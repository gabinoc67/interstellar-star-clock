<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>üïÖÔ∏èüåå Planetary Day-by-Day Labels ‚Äî All Months</title>
  <style>
    body { background-color: black; color: #00ffff; font-family: 'Courier New', monospace; padding: 20px; }
    h1 { text-align: center; font-size: 2em; }
    p { max-width: 900px; margin: 0 auto 16px auto; line-height: 1.4; }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; }
    .panel { background:#001a1a; border:1px solid #00ffff; border-radius:8px; padding: 10px 10px 12px; }
    .panel h2 { font-size: 1.05em; margin: 0 0 8px; color:#00ffff; text-align:center; }
    .count { font-size: 0.85em; color: #ffaa00; text-align:center; margin-bottom: 8px; }
    .months { max-height: 520px; overflow:auto; border-top:1px dashed #004444; padding-top:8px; }
    .month-block { margin-bottom: 10px; }
    .month-title { color:#9af7f7; font-weight:bold; margin:6px 0 4px; }
    .days { display:flex; flex-wrap:wrap; gap:6px 10px; }
    .day { color:#ffffff; }
      .header { display:flex; justify-content:space-between; align-items:center; gap:10px; padding:6px 8px; background:#001f1f; border:1px dashed #004444; border-radius:8px; margin-bottom:8px; }
    .header .date { color:#9af7f7; font-weight:bold; }
    .header .time { color:#ffaa00; font-variant-numeric: tabular-nums; }
  </style>
</head>
<body>
  <h1>üïÖÔ∏èüåå Planetary Day-by-Day Labels ‚Äî All Months</h1>
  <p>
    This version lists <strong>all 12 months at once</strong> for every planet. Earth uses real Gregorian month lengths (non‚Äëleap).
    All other planets split their orbital year into 12 equal month segments.
  </p>

  <div id="panelGrid" class="grid"></div>

  <script>
    // =========================
    // CONFIG
    // =========================
    const orbits = {
      mercury: 88,
      venus: 225,
      earth: 365.25,
      mars: 687,
      jupiter: 4333,
      saturn: 10759,
      uranus: 30687,
      neptune: 60190,
      pluto: 90560
    };

    const monthNames = [
      'January','February','March','April','May','June',
      'July','August','September','October','November','December'
    ];

    const planets = ['mercury','venus','earth','mars','jupiter','saturn','uranus','neptune','pluto'];

    // Timezone label
    const TZ_LABEL = 'CST';

    // Epoch used for planetary year indexing
    const epoch = new Date('2000-01-01T00:00:00Z');

    // =========================
    // HELPERS
    // =========================
    function monthBoundaries(totalDaysInt) {
      const b = [];
      for (let m = 0; m <= 12; m++) b.push(Math.floor((m * totalDaysInt) / 12));
      b[12] = totalDaysInt; // ensure exact end
      return b;
    }

    function gregorianMonthBoundariesNonLeap() {
      return [0,31,59,90,120,151,181,212,243,273,304,334,365];
    }

    function computeBoundariesMap() {
      const map = {};
      for (const p of planets) map[p] = monthBoundaries(Math.round(orbits[p]));
      map.earth = gregorianMonthBoundariesNonLeap();
      return map;
    }

    // Figure which month index today falls into per-planet
    function getTodayMonthIndex(planet, boundariesMap) {
      const nowUTCms = Date.now();
      const diffDays = (nowUTCms - epoch.getTime()) / (1000*60*60*24);
      const total = Math.round(orbits[planet]);
      const day0 = Math.floor(((diffDays % total) + total) % total); // 0..total-1
      const boundaries = boundariesMap[planet];
      for (let m = 0; m < 12; m++) if (day0 >= boundaries[m] && day0 < boundaries[m+1]) return m;
      return 0;
    }

    // Planetary year index (Earth uses real year)
    function getPlanetYear(planet) {
      if (planet === 'earth') return new Date().getUTCFullYear();
      const nowUTCms = Date.now();
      const diffDays = (nowUTCms - epoch.getTime()) / (1000*60*60*24);
      const total = Math.round(orbits[planet]);
      const yearIndex = Math.floor(diffDays / total);
      return 2000 + yearIndex;
    }

    // Day number within the current month for a given planet
    function getPlanetDayInMonth(planet, boundariesMap) {
      const nowUTCms = Date.now();
      const diffDays = (nowUTCms - epoch.getTime()) / (1000*60*60*24);
      const total = Math.round(orbits[planet]);
      const day0 = Math.floor(((diffDays % total) + total) % total); // 0..total-1
      const b = boundariesMap[planet];
      let m = 0;
      while (m < 12 && !(day0 >= b[m] && day0 < b[m+1])) m++;
      return (day0 - b[m]) + 1; // 1-based
    }

    function getCSTTimeString(dateObj) {
      return dateObj.toLocaleTimeString([], { hour12: true, timeZone: 'America/Chicago' });
    }

    // =========================
    // RENDER
    // =========================
    const boundariesMap = computeBoundariesMap();
    const panelGrid = document.getElementById('panelGrid');

    const prettyName = {
      mercury: '‚òø Mercury',
      venus: '‚ôÄ Venus',
      earth: '‚ôÅ Earth',
      mars: '‚ôÇ Mars',
      jupiter: '‚ôÉ Jupiter',
      saturn: '‚ôÑ Saturn',
      uranus: '‚ôÖ Uranus',
      neptune: '‚ôÜ Neptune',
      pluto: 'üî∑ Pluto'
    };

    function buildPanelsAllMonths() {
      planets.forEach(p => {
        const wrap = document.createElement('div');
        wrap.className = 'panel';

        const h2 = document.createElement('h2');
        h2.textContent = prettyName[p];
        wrap.appendChild(h2);

        // Header with Month + Year and live CST time
        const header = document.createElement('div');
        header.className = 'header';
        const dateSpan = document.createElement('span');
        dateSpan.className = 'date';
        dateSpan.id = `${p}-date`;
        const timeSpan = document.createElement('span');
        timeSpan.className = 'time';
        timeSpan.id = `${p}-time`;
        header.appendChild(dateSpan);
        header.appendChild(timeSpan);
        wrap.appendChild(header);

        const count = document.createElement('div');
        count.className = 'count';
        const b = boundariesMap[p];
        const totalDays = b[12] - b[0];
        const namePlain = (prettyName[p].split(' ').slice(1).join(' ')) || prettyName[p];
        count.textContent = `${namePlain} year length used here: ${totalDays} days`;
        wrap.appendChild(count);

        const monthsWrap = document.createElement('div');
        monthsWrap.className = 'months';

        for (let m = 0; m < 12; m++) {
          const daysInMonth = b[m+1] - b[m];

          const mBlock = document.createElement('div');
          mBlock.className = 'month-block';

          const mTitle = document.createElement('div');
          mTitle.className = 'month-title';
          mTitle.textContent = `${monthNames[m]} (${daysInMonth} day${daysInMonth!==1?'s':''})`;

          const daysWrap = document.createElement('div');
          daysWrap.className = 'days';
          for (let d = 1; d <= daysInMonth; d++) {
            const span = document.createElement('span');
            span.className = 'day';
            span.textContent = `${monthNames[m]} ${d}`;
            daysWrap.appendChild(span);
          }

          mBlock.appendChild(mTitle);
          mBlock.appendChild(daysWrap);
          monthsWrap.appendChild(mBlock);
        }

        wrap.appendChild(monthsWrap);
        panelGrid.appendChild(wrap);
      });
    }

    function updateHeaders() {
      const now = new Date();
      planets.forEach(p => {
        const mIdx = getTodayMonthIndex(p, boundariesMap);
        const year = getPlanetYear(p);
        const dateEl = document.getElementById(`${p}-date`);
        const timeEl = document.getElementById(`${p}-time`);
        if (dateEl) {
          const dayInMonth = getPlanetDayInMonth(p, boundariesMap);
          dateEl.textContent = `${monthNames[mIdx]} ${dayInMonth}, ${year}`;
        }
        if (timeEl) timeEl.textContent = `${getCSTTimeString(now)} ${TZ_LABEL}`;
      });
    }

    buildPanelsAllMonths();
    updateHeaders();
    setInterval(updateHeaders, 1000);
  </script>
</body>
</html>
