<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>🕅️🌌 Planetary Month Mapping with Local Time</title>
  <style>
    body {
      background-color: black;
      color: #00ffff;
      font-family: 'Courier New', monospace;
      padding: 20px;
    }
    h1 {
      text-align: center;
      font-size: 2em;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      text-align: center;
    }
    th, td {
      border: 1px solid #00ffff;
      padding: 8px;
      font-size: 0.9em;
    }
    th {
      background-color: #003333;
      color: #00ffff;
    }
    td {
      background-color: #001a1a;
      color: #ffffff;
    }
    .month-col {
      text-align: left;
      background-color: #002222;
      font-weight: bold;
    }
    .clock-row {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      margin-top: 30px;
    }
    .clock-box {
      background: #001a1a;
      border: 1px solid #00ffff;
      border-radius: 5px;
      padding: 10px;
      margin: 10px;
      width: 260px;
      text-align: center;
    }
    .clock-box h2 {
      font-size: 1.1em;
      margin-bottom: 8px;
      color: #00ffff;
    }
    .date-label {
      font-size: 0.9em;
      color: #ffaa00;
      margin-bottom: 6px;
    }
  </style>
</head>
<body>
  <h1>🕅️🌌 Planetary Month Mapping Table</h1>
  <p>This table shows how each planet’s year is divided into 12 months. Month boundaries are computed as equal partitions of the planet’s orbital period (in days). Earth uses the real Gregorian month lengths. The clocks below display the current CST time and each planet’s local date (year/month/day) consistent with this table.</p>

  <table id="monthTable">
    <tr>
      <th>Earth Month</th><th>Mercury</th><th>Venus</th><th>Earth</th><th>Mars</th>
      <th>Jupiter</th><th>Saturn</th><th>Uranus</th><th>Neptune</th><th>Pluto</th>
    </tr>
  </table>

  <div class="clock-row">
    <div class="clock-box"><h2>☿ Mercury</h2><div class="date-label" id="mercuryDate"></div><div id="mercuryClock"></div></div>
    <div class="clock-box"><h2>♀ Venus</h2><div class="date-label" id="venusDate"></div><div id="venusClock"></div></div>
    <div class="clock-box"><h2>♁ Earth</h2><div class="date-label" id="earthDate"></div><div id="earthClock"></div></div>
    <div class="clock-box"><h2>♂ Mars</h2><div class="date-label" id="marsDate"></div><div id="marsClock"></div></div>
    <div class="clock-box"><h2>♃ Jupiter</h2><div class="date-label" id="jupiterDate"></div><div id="jupiterClock"></div></div>
    <div class="clock-box"><h2>♄ Saturn</h2><div class="date-label" id="saturnDate"></div><div id="saturnClock"></div></div>
    <div class="clock-box"><h2>♅ Uranus</h2><div class="date-label" id="uranusDate"></div><div id="uranusClock"></div></div>
    <div class="clock-box"><h2>♆ Neptune</h2><div class="date-label" id="neptuneDate"></div><div id="neptuneClock"></div></div>
    <div class="clock-box"><h2>🔷 Pluto</h2><div class="date-label" id="plutoDate"></div><div id="plutoClock"></div></div>
  </div>

  <script>
    // === CONFIG ===
    // Orbital periods in Earth days (rounded where needed)
    const orbits = {
      mercury: 88,
      venus: 225,
      earth: 365.25, // use 365.25 for year progression; table uses Gregorian months
      mars: 687,
      jupiter: 4333,
      saturn: 10759,
      uranus: 30687,
      neptune: 60190,
      pluto: 90560
    };

    const planets = ["mercury","venus","earth","mars","jupiter","saturn","uranus","neptune","pluto"];
    const monthNames = ["January","February","March","April","May","June",
                        "July","August","September","October","November","December"];

    // Starting epoch (UTC) for planetary year counting
    const epoch = new Date("2000-01-01T00:00:00Z");

    // === UTILS ===
    function monthBoundaries(totalDaysInt) {
      // 13 boundaries from 0 to totalDaysInt, dividing year into 12 equal segments
      const b = [];
      for (let m = 0; m <= 12; m++) {
        b.push(Math.floor((m * totalDaysInt) / 12));
      }
      b[12] = totalDaysInt; // ensure exact end
      return b;
    }

    function gregorianMonthBoundariesNonLeap() {
      // cumulative ends for a non-leap Earth year
      // boundaries (0-based start): [0,31,59,90,120,151,181,212,243,273,304,334,365]
      return [0,31,59,90,120,151,181,212,243,273,304,334,365];
    }

    function buildMonthTable() {
      // Precompute boundaries for each planet (integers)
      const boundariesByPlanet = {};
      for (const p of planets) {
        const totalInt = Math.round(orbits[p]); // use integer total days
        boundariesByPlanet[p] = monthBoundaries(totalInt);
      }
      // Override Earth with real Gregorian month lengths (non-leap for table)
      boundariesByPlanet.earth = gregorianMonthBoundariesNonLeap();

      const table = document.getElementById('monthTable');

      for (let m = 0; m < 12; m++) {
        const row = document.createElement('tr');

        // Leftmost "Earth Month" label
        const tdMonth = document.createElement('td');
        tdMonth.className = 'month-col';
        tdMonth.textContent = monthNames[m];
        row.appendChild(tdMonth);

        for (const p of planets) {
          const b = boundariesByPlanet[p];
          const start = b[m] + 1;     // 1-based display
          const end   = b[m + 1];     // inclusive
          const td = document.createElement('td');
          td.textContent = `${start}–${end}`;
          row.appendChild(td);
        }

        table.appendChild(row);
      }

      // Return boundaries for reuse by clock/date logic
      return boundariesByPlanet;
    }

    function getCSTTimeString(dateObj) {
      // Consistent CST display for all clocks
      return dateObj.toLocaleTimeString([], { hour12: true, timeZone: "America/Chicago" });
    }

    function getPlanetDateLabel(planet, nowUTCms, boundariesMap) {
      // Compute day-of-year and year on the planet since the epoch
      const total = Math.round(orbits[planet]);
      const diffDays = (nowUTCms - epoch.getTime()) / (1000 * 60 * 60 * 24);
      const yearIndex = Math.floor(diffDays / total);     // years since 2000-01-01
      const planetYear = 2000 + yearIndex;

      const day0 = Math.floor(((diffDays % total) + total) % total); // safe modulo: 0..total-1

      // Use same boundaries the table uses for this planet
      let boundaries = boundariesMap[planet];
      if (planet === "earth") {
        // For Earth date label, use Gregorian month boundaries too
        boundaries = gregorianMonthBoundariesNonLeap();
      }

      // Find month by boundary search
      let m = 0;
      while (m < 12 && !(day0 >= boundaries[m] && day0 < boundaries[m + 1])) m++;

      const dayInMonth = (day0 - boundaries[m]) + 1; // 1-based for display
      return `${monthNames[m]} ${dayInMonth}, ${planetYear}`;
    }

    // === MAIN ===
    const boundariesMap = buildMonthTable(); // Build table and get boundaries

    function updateClocks() {
      const now = new Date();                 // local system time (we only use ms)
      const nowUTCms = now.getTime();

      // Date labels by planet (month/day/year derived from boundaries)
      document.getElementById("mercuryDate").innerText = getPlanetDateLabel("mercury", nowUTCms, boundariesMap);
      document.getElementById("venusDate").innerText   = getPlanetDateLabel("venus",   nowUTCms, boundariesMap);
      // Earth: show real Gregorian date string in CST plus label consistent with table
      const earthDateLabel = getPlanetDateLabel("earth", nowUTCms, boundariesMap);
      // If you want the human-readable Earth date (weekday etc.), you can also show:
      // const earthHuman = new Date().toLocaleDateString([], { timeZone: "America/Chicago" });
      document.getElementById("earthDate").innerText   = earthDateLabel;

      document.getElementById("marsDate").innerText    = getPlanetDateLabel("mars",    nowUTCms, boundariesMap);
      document.getElementById("jupiterDate").innerText = getPlanetDateLabel("jupiter", nowUTCms, boundariesMap);
      document.getElementById("saturnDate").innerText  = getPlanetDateLabel("saturn",  nowUTCms, boundariesMap);
      document.getElementById("uranusDate").innerText  = getPlanetDateLabel("uranus",  nowUTCms, boundariesMap);
      document.getElementById("neptuneDate").innerText = getPlanetDateLabel("neptune", nowUTCms, boundariesMap);
      document.getElementById("plutoDate").innerText   = getPlanetDateLabel("pluto",   nowUTCms, boundariesMap);

      // Time strings (CST) for every clock
      const cstTime = getCSTTimeString(now);
      document.getElementById("mercuryClock").innerText = cstTime;
      document.getElementById("venusClock").innerText   = cstTime;
      document.getElementById("earthClock").innerText   = cstTime;
      document.getElementById("marsClock").innerText    = cstTime;
      document.getElementById("jupiterClock").innerText = cstTime;
      document.getElementById("saturnClock").innerText  = cstTime;
      document.getElementById("uranusClock").innerText  = cstTime;
      document.getElementById("neptuneClock").innerText = cstTime;
      document.getElementById("plutoClock").innerText   = cstTime;
    }

    // Initial render + updates
    updateClocks();
    setInterval(updateClocks, 1000);
  </script>
</body>
</html>
