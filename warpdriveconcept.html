<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Warp Drive Concept Demo — Stress‑Energy & CST Navigator</title>
<style>
  :root{
    --bg:#0b1020; --ink:#eaf0ff; --muted:#b8c4ff; --card:#12183a; --accent:#9bb4ff; --green:#1dd1a1; --red:#ff6b6b; --amber:#feca57;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;line-height:1.55}
  a{color:var(--accent)}
  .wrap{max-width:1080px;margin:0 auto;padding:20px}
  .grid{display:grid;gap:16px}
  .cols{grid-template-columns:1fr 1fr}
  .three{grid-template-columns:1.1fr .9fr}
  .card{background:var(--card);border:1px solid #21305e;border-radius:18px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
  h1{margin:.2rem 0 .5rem;font-size:28px}
  h2{margin:.4rem 0 .3rem;font-size:18px;color:var(--muted);font-weight:600}
  label{display:block;font-size:13px;color:var(--muted);margin:.25rem 0}
  input,select,button{width:100%;padding:10px 12px;border-radius:12px;border:1px solid #2a3a72;background:#0e1533;color:var(--ink)}
  input[type=range]{padding:0}
  .row{display:flex;gap:10px;align-items:center}
  .row>div{flex:1}
  .btn{cursor:pointer;transition:.2s ease;user-select:none}
  .btn:hover{transform:translateY(-1px)}
  .btn.primary{background:#1b2a6b;border-color:#2c3ea0}
  .btn.warning{background:#3a1b1b;border-color:#7a2d2d}
  .kpi{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
  .kpi .cell{background:#0d1430;border:1px solid #22305c;border-radius:14px;padding:10px}
  .kpi .label{font-size:12px;color:var(--muted)}
  .kpi .value{font-size:16px;font-weight:700}
  canvas{width:100%;height:420px;background:#050a1a;border:1px solid #1c2a58;border-radius:16px}
  .legend{font-size:12px;color:var(--muted)}
  .pill{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;border:1px solid #2a3a72;background:#0e1533;color:var(--ink)}
  .ok{color:var(--green)} .warn{color:var(--amber)} .bad{color:var(--red)}
  code{background:#0e1533;border:1px solid #22305c;border-radius:8px;padding:2px 6px}
</style>
</head>
<body>
  <div class="wrap">
    <h1>Warp Drive Concept Demo — Stress‑Energy & CST Navigator</h1>
    <p style="color:var(--muted)">A <em>conceptual</em> calculator/visualizer. It shows the structure of quantities you described — space usage, bubble/tunnel radii, a simplified stress–energy tensor \(T_{\mu\nu}\), and CST timing — and animates a ship with a bubble traveling from Earth to a selected destination. Values are in normalized/demo units for communication, not laboratory prediction.</p>

    <div class="grid three">
      <div class="card">
        <h2>1) Destination & Departure</h2>
        <label>Destination</label>
        <select id="dest">
          <option value="moon">Moon (~0.00257 AU)</option>
          <option value="mars">Mars (~0.52 AU avg)</option>
          <option value="jupiter">Jupiter (~4.2 AU avg)</option>
          <option value="saturn">Saturn (~8.5 AU avg)</option>
          <option value="uranus">Uranus (~18.2 AU avg)</option>
          <option value="neptune">Neptune (~29 AU avg)</option>
          <option value="pluto" selected>Pluto (~39.5 AU avg)</option>
          <option value="alphacen">Alpha Centauri (~268,000 AU)</option>
          <option value="andromeda">Andromeda (~1.6×10<sup>12</sup> AU)</option>
        </select>
        <div class="row" style="margin-top:10px">
          <div>
            <label>Ship cruise (normalized v_ship)</label>
            <input type="range" min="0" max="1" step="0.01" id="vship" value="0.05"/>
          </div>
          <div>
            <label>Bubble shift rate (\(\dot{x}_{bubble}\), normalized)</label>
            <input type="range" min="0" max="4" step="0.01" id="vbubble" value="1.20"/>
          </div>
        </div>
        <div class="row">
          <div>
            <label>Tunnel radius R (km)</label>
            <input type="number" id="R" value="1000"/>
          </div>
          <div>
            <label>Bubble radius R<sub>b</sub> (km)</label>
            <input type="number" id="Rb" value="650"/>
          </div>
        </div>
        <h2 style="margin-top:16px">2) Field Inputs</h2>
        <div class="row">
          <div>
            <label>Casimir array power (arb.)</label>
            <input type="range" min="0" max="10" step="0.1" id="casimir" value="4"/>
          </div>
          <div>
            <label>Photon field intensity (arb.)</label>
            <input type="range" min="0" max="10" step="0.1" id="photons" value="6"/>
          </div>
        </div>
        <div class="row">
          <div>
            <label>Entanglement sync level (arb.)</label>
            <input type="range" min="0" max="10" step="0.1" id="ent" value="7"/>
          </div>
          <div>
            <label>CST effective c factor (\(c_{eff}/c\))</label>
            <input type="range" min="0.1" max="1" step="0.01" id="ceff" value="0.85"/>
          </div>
        </div>
        <div class="row" style="margin-top:12px">
          <button class="btn primary" id="calc">Calculate</button>
          <button class="btn primary" id="engage">Engage Warp</button>
          <button class="btn warning" id="reset">Reset</button>
        </div>
      </div>

      <div class="card">
        <h2>Status & KPIs</h2>
        <div class="kpi" style="margin-bottom:10px">
          <div class="cell"><div class="label">Space Usage (η)</div><div class="value" id="eta">—</div></div>
          <div class="cell"><div class="label">Bubble Volume V<sub>b</sub> (norm.)</div><div class="value" id="Vb">—</div></div>
          <div class="cell"><div class="label">CST Delay Δt (norm.)</div><div class="value" id="dtcst">—</div></div>
        </div>
        <div class="kpi">
          <div class="cell"><div class="label">Effective Speed v<sub>eff</sub></div><div class="value" id="veff">—</div></div>
          <div class="cell"><div class="label">Stability Index</div><div class="value" id="stab">—</div></div>
          <div class="cell"><div class="label">Distance (AU)</div><div class="value" id="dist">—</div></div>
        </div>
        <h2 style="margin-top:14px">Stress–Energy Sketch (normalized)</h2>
        <div class="cell" style="background:#0d1430;border-radius:14px;border:1px solid #22305c;padding:12px">
          <div class="legend">We present a <em>model form</em> for communication:
            <div><code>T<sub>μν</sub> = diag(ρ, p<sub>r</sub>, p<sub>θ</sub>, p<sub>φ</sub>)</code></div>
            <div style="margin-top:6px"><code>ρ = a·Photons − b·Casimir + c·Control</code>, <code>p = w·ρ</code> with <code>0 ≤ w ≤ 1</code> (demo)</div>
          </div>
          <div class="row" style="margin-top:8px">
            <div><span class="pill">ρ</span> <span id="rho">—</span></div>
            <div><span class="pill">p<sub>r</sub></span> <span id="pr">—</span></div>
            <div><span class="pill">p<sub>θ</sub></span> <span id="pt">—</span></div>
            <div><span class="pill">p<sub>φ</sub></span> <span id="pp">—</span></div>
          </div>
        </div>
        <h2 style="margin-top:14px">Departure / Arrival Narrative</h2>
        <div id="narrative" class="cell" style="background:#0d1430;border-radius:14px;border:1px solid #22305c;padding:12px;min-height:88px">Pick a destination and press <b>Calculate</b> to populate a flight plan. <b>Engage Warp</b> to animate.</div>
      </div>
    </div>

    <div class="card" style="margin-top:16px">
      <h2>3) Visual — Ship & Bubble</h2>
      <canvas id="viz" width="1000" height="420"></canvas>
      <div class="legend">Dashed ring = tunnel radius R; solid disk = bubble radius R<sub>b</sub>. The ship travels along the corridor after <b>Engage Warp</b>. For huge distances (Alpha Centauri, Andromeda) animation compresses time.</div>
    </div>

    <div class="card" style="margin-top:16px">
      <h2>Equations in this Demo</h2>
      <ul>
        <li><b>Space usage</b>: \(\eta = (R_b/R)^2\)</li>
        <li><b>Bubble volume</b> (illustrative cylinder): \(V_b = \pi R_b^2 L\) with L from Earth→destination</li>
        <li><b>CST delay</b>: \(\Delta t_{CST} = L_{path}/c_{eff}\) (with \(L_{path} \approx L\) here)</li>
        <li><b>Effective speed</b>: \(v_{eff} = v_{ship} + \dot x_{bubble}\) (normalized)</li>
        <li><b>Stress–energy sketch</b>:
          <div>\(\rho = A\,I_{photon} - B\,P_{Casimir} + C\,S_{ent}\)</div>
          <div>\(p_r = p_\theta = p_\phi = w\,\rho\) with \(0\le w\le1\)</div>
        </li>
        <li><b>Stability index</b> (heuristic): increases with \(\eta\) constancy and field balance; decreases if \(R_b>R\) or fields are weak.</li>
      </ul>
      <div class="legend">All values are normalized for demonstration — they illustrate dependencies, not experimental magnitudes.</div>
    </div>
  </div>

<script>
// ---------- Simple data model ----------
const AU = 1; // we’ll keep units normalized in AU for lengths (demo)
const DESTS = {
  moon:      { name:"Moon",       L: 0.00257 },
  mars:      { name:"Mars",       L: 0.52    },
  jupiter:   { name:"Jupiter",    L: 4.2     },
  saturn:    { name:"Saturn",     L: 8.5     },
  uranus:    { name:"Uranus",     L: 18.2    },
  neptune:   { name:"Neptune",    L: 29      },
  pluto:     { name:"Pluto",      L: 39.5    },
  alphacen:  { name:"Alpha Centauri", L: 268000 },
  andromeda: { name:"Andromeda",  L: 1.6e12 }
};

// Demo constants for the stress–energy sketch
const A=1.0, B=0.6, C=0.4, W=0.33; // photon, casimir, entanglement weights; equation-of-state w

// UI refs
const el={
  dest:document.getElementById('dest'), vship:document.getElementById('vship'), vbubble:document.getElementById('vbubble'),
  R:document.getElementById('R'), Rb:document.getElementById('Rb'), casimir:document.getElementById('casimir'), photons:document.getElementById('photons'), ent:document.getElementById('ent'), ceff:document.getElementById('ceff'),
  calc:document.getElementById('calc'), engage:document.getElementById('engage'), reset:document.getElementById('reset'),
  eta:document.getElementById('eta'), Vb:document.getElementById('Vb'), dtcst:document.getElementById('dtcst'), veff:document.getElementById('veff'), stab:document.getElementById('stab'), dist:document.getElementById('dist'),
  rho:document.getElementById('rho'), pr:document.getElementById('pr'), pt:document.getElementById('pt'), pp:document.getElementById('pp'), narrative:document.getElementById('narrative'), canvas:document.getElementById('viz')
};

// Drawing
const ctx = el.canvas.getContext('2d');
const Wd = el.canvas.width, Hd = el.canvas.height;
let anim=null, shipX=80, shipY=Hd/2, progress=0, Lvis=700; // animation state

function drawScene(Rkm, Rbkm){
  ctx.clearRect(0,0,Wd,Hd);
  // corridor
  const centerX = 140, centerY = Hd/2;
  const scale = 0.20; // pixels per km (visual only)
  const Rpx = Math.min(160, Rkm*scale);
  const Rbpx = Math.min(Rpx*0.95, Rbkm*scale);
  // tunnel (dashed ring)
  ctx.setLineDash([7,7]);
  ctx.lineWidth=2;
  ctx.strokeStyle='#9bb4ff';
  ctx.beginPath(); ctx.arc(centerX, centerY, Rpx, 0, Math.PI*2); ctx.stroke();
  // bubble (filled)
  ctx.setLineDash([]);
  ctx.fillStyle='rgba(155,180,255,0.28)';
  ctx.beginPath(); ctx.arc(centerX, centerY, Rbpx, 0, Math.PI*2); ctx.fill();

  // path to destination
  ctx.strokeStyle='#5ea0ff'; ctx.lineWidth=2; ctx.setLineDash([4,4]);
  ctx.beginPath(); ctx.moveTo(centerX+Rpx+20, centerY); ctx.lineTo(Wd-60, centerY); ctx.stroke();
  ctx.setLineDash([]);

  // ship
  ctx.fillStyle='#eaf0ff';
  const sx = shipX, sy = shipY;
  ctx.beginPath(); ctx.moveTo(sx,sy); ctx.lineTo(sx-14,sy-6); ctx.lineTo(sx-14,sy+6); ctx.closePath(); ctx.fill();
  // ship bubble halo while engaged
  if(anim){
    ctx.strokeStyle='rgba(255,255,255,0.45)';
    ctx.beginPath(); ctx.arc(sx-6, sy, 14, 0, Math.PI*2); ctx.stroke();
  }
}

function compute(){
  const d = DESTS[el.dest.value];
  const L = d.L; // AU
  const R = Math.max(1, parseFloat(el.R.value));
  const Rb = Math.max(0.1, Math.min(R, parseFloat(el.Rb.value)));
  const eta = (Rb*Rb)/(R*R);
  // Bubble volume (normalized): pi Rb^2 * L (treat R,Rb in km but normalize by a scale)
  const Vb = Math.PI * (Rb*Rb) * L; // demo units
  const ceff = parseFloat(el.ceff.value);
  const dtCST = L / ceff; // normalized
  const veff = parseFloat(el.vship.value) + parseFloat(el.vbubble.value);

  // Stress–energy sketch
  const photons = parseFloat(el.photons.value);
  const casimir = parseFloat(el.casimir.value);
  const ent = parseFloat(el.ent.value);
  const rho = A*photons - B*casimir + C*ent; // demo only
  const p = W*rho;

  // Stability index (0-100): depends on eta in [0.1,0.9], balanced fields, and Rb<=R
  let stab = 100;
  if(Rb>R) stab -= 40;
  const idealEta=0.45; stab -= Math.min(40, Math.abs(eta-idealEta)*100);
  const fieldBalance = Math.abs(photons - (casimir+ent));
  stab -= Math.min(40, fieldBalance*4);
  stab = Math.max(0, Math.min(100, stab));

  // Fill UI
  el.eta.textContent = eta.toFixed(3);
  el.Vb.textContent = Vb.toExponential(2);
  el.dtcst.textContent = dtCST.toExponential(2);
  el.veff.textContent = veff.toFixed(2);
  el.stab.textContent = stab.toFixed(0)+"/100";
  el.dist.textContent = L.toLocaleString();
  el.rho.textContent = rho.toFixed(2);
  el.pr.textContent = p.toFixed(2);
  el.pt.textContent = p.toFixed(2);
  el.pp.textContent = p.toFixed(2);

  // Narrative
  const now = new Date();
  const tDepart = now.toLocaleString();
  // Arrival time in demo units: TAU = L / veff (scaled); apply compression for huge L
  const speed = Math.max(0.01, veff);
  let tau = L / speed; // demo units
  let compress = 1;
  if(L>1e6) compress = 1e5; else if(L>1e3) compress = 500; else if(L>50) compress = 50;
  const tauShown = tau/compress;
  el.narrative.innerHTML = `Departure at <b>${tDepart}</b>. Selected <b>${d.name}</b> at <b>${L.toLocaleString()} AU</b>. `+
    `Planned bubble/tunnel ratio gives space usage <b>η=${eta.toFixed(3)}</b>. `+
    `CST effective c factor is <b>${ceff}</b>, so Δt<sub>CST</sub>≈<b>${dtCST.toExponential(2)}</b> (norm.). `+
    `With v<sub>eff</sub>=<b>${veff.toFixed(2)}</b>, demo travel time ≈ <b>${tauShown.toFixed(2)}</b> units (compressed for animation).`;

  // Redraw
  drawScene(R, Rb);

  return {L,R,Rb,eta,veff,tau,compress};
}

function animateTrip(plan){
  cancelAnimationFrame(anim); anim=null;
  progress = 0; shipX = 200; shipY = Hd/2;
  const endX = Wd-80; const duration = Math.max(1200, Math.min(16000, plan.tau/plan.compress*400));
  const start = performance.now();
  function step(t){
    const k = Math.min(1, (t-start)/duration);
    progress = k;
    shipX = 200 + (endX-200)*k;
    drawScene(plan.R, plan.Rb);
    if(k<1) anim = requestAnimationFrame(step); else { anim=null; arrivalNote(); }
  }
  anim = requestAnimationFrame(step);
}

function arrivalNote(){
  const when = new Date().toLocaleString();
  const base = el.narrative.innerHTML;
  el.narrative.innerHTML = base + ` <br><b>Arrival:</b> ${when}. Bubble remained within tunnel (R<sub>b</sub>≤R); stability gauge is <b>${el.stab.textContent}</b>.`;
}

// Events
el.calc.onclick = ()=>compute();
el.reset.onclick = ()=>{ cancelAnimationFrame(anim); anim=null; progress=0; shipX=80; drawScene(parseFloat(el.R.value), parseFloat(el.Rb.value)); el.narrative.textContent='Pick a destination and press Calculate to populate a flight plan. Engage Warp to animate.'; };
el.engage.onclick = ()=>{ const plan = compute(); animateTrip(plan); };

// First paint
drawScene(parseFloat(el.R.value), parseFloat(el.Rb.value));
</script>
</body>
</html>
