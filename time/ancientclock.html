<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cosmic Clock (Dual Panel)</title>
  <style>
    :root{
      --panel-gap: 20px;
    }
    body{
      background:#0a0f1f; color:#fff; font-family:Arial, Helvetica, sans-serif;
      margin:0; min-height:100vh;
      display:flex; align-items:center; justify-content:center;
    }
    #container{
      display:flex; align-items:center; justify-content:center; gap:var(--panel-gap);
      padding:16px; max-width:calc(100vw - 16px); overflow:auto; flex-wrap:wrap;
    }

    /* Info panel */
    #infoPanel{
      width: 340px; text-align:left; margin-right:6px; line-height:1.6em;
    }
    #infoPanel h1{ color:gold; font-size:26px; margin:0 0 10px 0; }
    label{ display:block; margin:6px 0 2px; font-size:0.73em; }   /* ‚Üì ~30% */
    input{ width:95%; padding:6px; font-size:1em; }
    .btnRow{ margin-top:8px; display:flex; gap:8px; }
    .btn{
      background:#2563eb; color:#fff; border:none; border-radius:6px; cursor:pointer;
      padding:7px 14px; font-size:0.77em;                             /* ‚Üì ~30% */
    }
    .btn:hover{ background:#1d4ed8; }
    .note{ font-size:13px; color:#bbb; margin-top:8px; }

    /* Canvases (both +30%: 550 ‚Üí 715) */
    canvas{ background:#111; border:2px solid #333; margin:5px; display:block; }
    #cosmicClock, #bottomClock{ width:715px; height:715px; } /* CSS size */
  </style>
</head>
<body>
  <div id="container">
    <div id="infoPanel">
      <h1>ü™ê Cosmic Clock</h1>

      <label for="dateInput">Birthday</label>
      <input type="date" id="dateInput" />

      <label for="latInput">Latitude (¬∞)</label>
      <input type="number" id="latInput" step="0.0001" placeholder="e.g. 34.05" />

      <label for="lonInput">Longitude (¬∞)</label>
      <input type="number" id="lonInput" step="0.0001" placeholder="e.g. -118.25" />

      <div class="btnRow">
        <button class="btn" onclick="startClock()">Start</button>
        <button class="btn" onclick="resetClock()">Reset</button>
      </div>

      <div id="output" style="margin-top:10px">
        Enter either a <b>Birthday</b> OR <b>Latitude/Longitude</b>.
      </div>

      <div class="note">
        ‚ö†Ô∏è Antikythera-style mechanism.<br>
        Choose ONE mode:<br>
        ‚Äì Birthday ‚Üí Sun, Moon & calendars.<br>
        ‚Äì Latitude/Longitude ‚Üí sky alignment.<br>
        Not both at once.
      </div>
    </div>

    <!-- TOP CLOCK -->
    <canvas id="cosmicClock" width="715" height="715"></canvas>

    <!-- BOTTOM CLOCK -->
    <canvas id="bottomClock" width="715" height="715"></canvas>
  </div>

  <script>
    // -------------------- Shared setup --------------------
    const topCanvas = document.getElementById("cosmicClock");
    const topCtx = topCanvas.getContext("2d");
    const cx1 = topCanvas.width/2, cy1 = topCanvas.height/2;

    const bottomCanvas = document.getElementById("bottomClock");
    const bottomCtx = bottomCanvas.getContext("2d");
    const cx2 = bottomCanvas.width/2, cy2 = bottomCanvas.height/2;

    const zeroEpoch = new Date(-3110, 7, 11);
    const cycles = { Sun:365, Moon:29.53, Mercury:116, Venus:584, Mars:780, Jupiter:399, Saturn:378 };
    let animating=false;

    // -------------------- Top Clock Plates --------------------
    const tepeSymbols = ["ü¶Ç","ü¶ä","ü¶Ö","üêÇ","üêç","üêá","üê∫","üêü","üê¶","ü¶å","ü¶É","üê¢"];
    const mayaSigns = ["üêä","üå¨Ô∏è","üåä","üî•","ü¶Ö","üêç","üåΩ","üê¢","üï∑Ô∏è","üêí",
                       "üêï","üåø","üåû","üåë","üåΩ","ü¶å","üå¥","ü¶Ç","üåï","üêü"];
    const zodiacSymbols = ["‚ôà","‚ôâ","‚ôä","‚ôã","‚ôå","‚ôç","‚ôé","‚ôè","‚ôê","‚ôë","‚ôí","‚ôì"];

    function drawTopClock(){
      topCtx.clearRect(0,0,topCanvas.width,topCanvas.height);

      // Zodiac ring
      zodiacSymbols.forEach((z,i)=>{
        let angle=(i*30-90)*Math.PI/180;
        let tx=cx1+260*Math.cos(angle), ty=cy1+260*Math.sin(angle);
        topCtx.fillStyle="violet"; topCtx.font="24px Arial"; topCtx.fillText(z,tx,ty);
      });

      // Metonic ticks
      for(let i=0;i<19;i++){
        let angle=(i*(360/19)-90)*Math.PI/180;
        let tx=cx1+200*Math.cos(angle), ty=cy1+200*Math.sin(angle);
        topCtx.fillStyle="orange"; topCtx.fillRect(tx-2,ty-2,4,4);
      }

      // Tepe
      tepeSymbols.forEach((s,i)=>{
        let angle=(i*30-90)*Math.PI/180;
        let tx=cx1+315*Math.cos(angle), ty=cy1+315*Math.sin(angle);
        topCtx.fillStyle="cyan"; topCtx.font="20px Arial"; topCtx.fillText(s,tx,ty);
      });

      // Maya
      mayaSigns.forEach((s,i)=>{
        let angle=(i*(360/20)-90)*Math.PI/180;
        let tx=cx1+340*Math.cos(angle), ty=cy1+340*Math.sin(angle);
        topCtx.fillStyle="lime"; topCtx.font="18px Arial"; topCtx.fillText(s,tx,ty);
      });

      // Decans
      for(let i=0;i<36;i++){
        let angle=(i*10-90)*Math.PI/180;
        let tx=cx1+365*Math.cos(angle), ty=cy1+365*Math.sin(angle);
        topCtx.fillStyle="red"; topCtx.font="14px Arial"; topCtx.fillText(i+1,tx,ty);
      }

      // Chinese Mansions
      for(let i=0;i<28;i++){
        let angle=(i*(360/28)-90)*Math.PI/180;
        let tx=cx1+390*Math.cos(angle), ty=cy1+390*Math.sin(angle);
        topCtx.fillStyle="yellow"; topCtx.font="14px Arial"; topCtx.fillText(i+1,tx,ty);
      }

      // Moon phases
      const phases=["üåë","üåì","üåï","üåó"];
      phases.forEach((p,i)=>{
        let angle=(i*90-90)*Math.PI/180;
        let tx=cx1+160*Math.cos(angle), ty=cy1+160*Math.sin(angle);
        topCtx.fillStyle="white"; topCtx.font="20px Arial"; topCtx.fillText(p,tx,ty);
      });
    }

    // -------------------- Bottom Clock Plates --------------------
    const bottomCycles = [
      {label:"Moon Cycle", r:85, color:"white", divisions:8, symbols:["üåë","üåí","üåì","üåî","üåï","üåñ","üåó","üåò"]},
      {label:"Metonic 19y", r:135, color:"orange", divisions:19},
      {label:"Saros 18y+11d", r:185, color:"red", divisions:18},
      {label:"Exeligmos 54y", r:235, color:"cyan", divisions:54},
      {label:"Olympiad 4y", r:285, color:"blue", divisions:4},
      {label:"Mesoamerican 52y", r:335, color:"yellow", divisions:52},
      {label:"Native Agricultural", r:385, color:"green", divisions:12}
    ];

    function drawBottomClock(){
      bottomCtx.clearRect(0,0,bottomCanvas.width,bottomCanvas.height);
      bottomCycles.forEach(c=>{
        bottomCtx.beginPath();
        bottomCtx.arc(cx2,cy2,c.r,0,Math.PI*2);
        bottomCtx.strokeStyle=c.color; bottomCtx.stroke();

        // label
        bottomCtx.fillStyle=c.color; bottomCtx.font="16px Arial";
        bottomCtx.fillText(c.label, cx2, cy2-c.r-15);

        // divisions
        for(let i=0;i<c.divisions;i++){
          let angle=(i*(360/c.divisions)-90)*Math.PI/180;
          let tx=cx2+c.r*Math.cos(angle), ty=cy2+c.r*Math.sin(angle);
          if(c.symbols) bottomCtx.fillText(c.symbols[i % c.symbols.length], tx, ty);
          else bottomCtx.fillRect(tx-1,ty-1,2,2);
        }
      });

      // Central dial/hand
      bottomCtx.beginPath();
      bottomCtx.moveTo(cx2,cy2);
      bottomCtx.lineTo(cx2, cy2 - bottomCycles[bottomCycles.length-1].r);
      bottomCtx.strokeStyle="yellow"; bottomCtx.lineWidth=2; bottomCtx.stroke();
    }

    // -------------------- Main draw --------------------
    function draw(){ drawTopClock(); drawBottomClock(); }
    draw();

    function startClock(){ draw(); } // placeholder for future dynamics
    function resetClock(){ draw(); }
  </script>
</body>
</html>
