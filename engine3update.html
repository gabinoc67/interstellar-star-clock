<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Interstellar Clock — Warp Engine + FTL Jump (Dual Independent System)</title>

<style>
:root{
  --bg:#050815;
  --panel:#111735;
  --ink:#eaf0ff;
  --muted:#9fa8d6;
  --accent:#8fb4ff;
  --grid:#1d264e;
  --border:#1c2750;
  --ok:#35e6a2;
  --warn:#ffd15a;
  --bad:#ff6b8b;
}
*{box-sizing:border-box;}
body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;}
.wrap{max-width:1500px;margin:0 auto;padding:18px;}

header{
  padding:16px 20px;
  background:radial-gradient(circle at top left,#5b8cff 0,#020617 40%,#000 100%);
  border-radius:18px;
  border:1px solid rgba(148,163,184,.45);
  margin-bottom:22px;
}
header h1{margin:0 0 4px;font-size:24px;}
header p{margin:2px 0;font-size:13px;color:var(--muted);}

.panel{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:16px;
  padding:14px 18px 16px;
  margin-bottom:18px;
  box-shadow:0 18px 50px rgba(15,23,42,0.85);
}
.panel h2{margin:0 0 8px;font-size:18px;}

.controls-group{margin-top:10px;padding:10px;border-radius:12px;border:1px dashed rgba(148,163,184,.45);}
.controls-row{display:flex;justify-content:space-between;margin-bottom:6px;}
.controls-row:last-child{margin-bottom:0;}

select,input,button{font-size:13px;}
select,input{width:100%;padding:6px;border-radius:8px;background:#020617;color:var(--ink);border:1px solid rgba(148,163,184,.55);}
button{
  padding:6px 14px;border-radius:999px;cursor:pointer;
  border:1px solid rgba(148,163,184,.55);background:#020617;color:var(--ink);
}
button.primary{border-color:#4ade80;color:#bbf7d0;}
button.disabled{opacity:.40;cursor:not-allowed;}

.badge{padding:3px 7px;border-radius:999px;font-size:11px;border:1px solid rgba(148,163,184,.55);}
.ok{color:var(--ok);border-color:var(--ok);}
.warn{color:var(--warn);border-color:var(--warn);}
.bad{color:var(--bad);border-color:var(--bad);}

.time-box{margin-top:8px;padding:10px;border-radius:12px;background:#0c142e;border:1px solid rgba(148,163,184,.45);font-size:12px;}
.time-row{display:flex;justify-content:space-between;margin-bottom:3px;}

.subpanel{margin-top:12px;padding:10px;border-radius:12px;background:#020617;border:1px solid var(--border);font-size:12px;}
.safety-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px;margin-top:8px;}
.safety-card{text-align:center;padding:6px;border-radius:12px;border:1px solid rgba(148,163,184,.55);}
.safety-circle{width:44px;height:44px;border-radius:50%;margin:0 auto 4px;border:2px solid #4b5563;}
.safety-circle.safe{background:radial-gradient(circle,#bbf7d0,#22c55e 70%,#064e3b);border-color:var(--ok);}
.safety-circle.warn{background:radial-gradient(circle,#fef3c7,#facc15 70%,#78350f);border-color:var(--warn);}
.safety-circle.bad{background:radial-gradient(circle,#fecaca,#f97373 65%,#7f1d1d);border-color:var(--bad);}

.note{font-size:11px;color:var(--muted);}
.btn-row{display:flex;gap:8px;margin-top:6px;}
</style>
</head>
<body>
<div class="wrap">

<header>
  <h1>Interstellar Clock — Warp Engine (AU) + FTL Jump (LY)</h1>
  <p>Both propulsion systems operate 100% independently — each must be green before jump.</p>
</header>
<!-- ===== WARP ENGINE PANEL — TOP ===== -->
<div class="panel" id="enginePanel">
  <h2>Warp Engine — Planetary Distance Trip (AU)</h2>

  <div class="controls-group">
    <div class="controls-row">
      <label>Warp Factor</label>
      <span class="badge ok" id="eng_speed">x1.0</span>
    </div>
    <input type="range" id="eng_warp" min="1" max="10" step="1" value="4"/>
  </div>

  <div class="controls-group">
    <label style="font-size:13px;">Destination Planet</label>
    <select id="eng_planet">
      <option value="mercury">Mercury — 0.39 AU</option>
      <option value="venus">Venus — 0.72 AU</option>
      <option value="earth">Earth — 1.00 AU</option>
      <option value="mars" selected>Mars — 1.52 AU</option>
      <option value="jupiter">Jupiter — 5.20 AU</option>
      <option value="saturn">Saturn — 9.58 AU</option>
      <option value="uranus">Uranus — 19.20 AU</option>
      <option value="neptune">Neptune — 30.10 AU</option>
      <option value="pluto">Pluto — 39.50 AU</option>
    </select>

    <div class="btn-row">
      <button id="eng_calc" class="primary">Calculate Trip</button>
      <button id="eng_jump" class="disabled">Warp Jump</button>
    </div>
  </div>

  <div class="time-box">
    <div class="time-row"><span>Clock (UTC)</span><span id="eng_clk_utc">--:--:--</span></div>
    <div class="time-row"><span>CST Sync</span><span id="eng_clk_cst">--:--:--</span></div>
    <div class="time-row"><span>Warp Frame</span><span id="eng_clk_warp">--:--:--</span></div>
  </div>

  <div class="controls-group" style="margin-top:12px;">
    <div class="controls-row"><span>Field Radius</span><span class="badge" id="eng_field">1.20 × D</span></div>
    <div class="controls-row"><span>Core Status</span><span class="badge warn" id="eng_temp">Warm</span></div>
  </div>

  <div class="subpanel">
    <h3 style="margin-top:0;">Safety System — Must Be 100% GREEN</h3>
    <p class="note">Press "Calculate Trip" again if not green — engine self-adjusts.</p>

    <div class="safety-grid">
      <div class="safety-card">
        <div id="eng_s_cst" class="safety-circle"></div>
        <div id="eng_s_cst_text">—</div><div>CST Alignment</div>
      </div>
      <div class="safety-card">
        <div id="eng_s_inertia" class="safety-circle"></div>
        <div id="eng_s_inertia_text">—</div><div>Cabin Inertia</div>
      </div>
      <div class="safety-card">
        <div id="eng_s_go" class="safety-circle"></div>
        <div id="eng_s_go_text">NO-GO</div><div>Allowed Only When GREEN</div>
      </div>
    </div>
  </div>
</div>
<!-- ===== FTL JUMP PANEL — BOTTOM ===== -->
<div class="panel" id="jumpPanel">
  <h2>FTL Jump — CST Interstellar Navigation (Light-Years)</h2>

  <div class="controls-group">
    <label>Distance (light-years)</label>
    <input type="number" id="jp_dist" value="4.20" step="0.01">

    <label style="margin-top:6px;">Right Ascension (hours)</label>
    <input type="number" id="jp_ra" value="14.6590" step="0.0001">

    <label style="margin-top:6px;">Declination (°)</label>
    <input type="number" id="jp_dec" value="-60.8353" step="0.0001">

    <label style="margin-top:6px;">Days Since J2000 (Sky Drift)</label>
    <input type="number" id="jp_drift" value="9200" step="1">

    <div class="btn-row">
      <button id="jp_calc" class="primary">Compute CST Jump</button>
      <button id="jp_execute" class="disabled">Execute Jump</button>
    </div>
  </div>

  <div class="controls-group" id="jp_report" style="font-size:11px;line-height:1.35;">
    <div><strong>CST Alignment:</strong> <span id="jp_align">—</span></div>
    <div><strong>Departure (CST):</strong> <span id="jp_dep">—</span></div>
    <div><strong>Arrival (CST):</strong> <span id="jp_arr">—</span></div>
    <div><strong>Ship Proper Time:</strong> <span id="jp_ship">—</span></div>
    <div><strong>Distance Line:</strong> <span id="jp_dline">—</span></div>
    <div><strong>Apparent Velocity:</strong> <span id="jp_vapp">—</span></div>
    <div><strong>Relativistic Gammas:</strong> <span id="jp_gamma">—</span></div>
    <div><strong>Sidereal Drift:</strong> <span id="jp_sid">—</span></div>
    <div><strong>Re-entry Error (AU):</strong> <span id="jp_err">—</span></div>
    <div><strong>Vector Alignment:</strong> <span id="jp_vec">—</span></div>
  </div>

  <div class="subpanel">
    <h3 style="margin-top:0;">Safety System — Must Be 100% GREEN</h3>
    <p class="note">Press “Compute CST Jump” again if not green — system self-tunes.</p>

    <div class="safety-grid">
      <div class="safety-card">
        <div id="jp_s_cst" class="safety-circle"></div>
        <div id="jp_s_cst_text">—</div><div>CST Alignment</div>
      </div>
      <div class="safety-card">
        <div id="jp_s_inertia" class="safety-circle"></div>
        <div id="jp_s_inertia_text">—</div><div>Inertial Load</div>
      </div>
      <div class="safety-card">
        <div id="jp_s_go" class="safety-circle"></div>
        <div id="jp_s_go_text">NO-GO</div><div>Allowed Only When GREEN</div>
      </div>
    </div>
  </div>

  <div class="controls-group" style="margin-top:8px;">
    <div style="font-size:12px;margin-bottom:4px;color:var(--muted);">Jump Status</div>
    <div id="jp_status" style="font-size:12px;color:#fbbf24;">Idle — awaiting calculation.</div>
  </div>
</div>
<!-- ===== ENGINE SCRIPT — WARP DRIVE LOGIC ===== -->
<script>
const AU={mercury:.39,venus:.72,earth:1,mars:1.52,jupiter:5.2,saturn:9.58,uranus:19.2,neptune:30.1,pluto:39.5};

const engWarp=document.getElementById("eng_warp");
const engSpeedBadge=document.getElementById("eng_speed");
const engPlanet=document.getElementById("eng_planet");
const engCalc=document.getElementById("eng_calc");
const engJump=document.getElementById("eng_jump");

const ENG_UI={
  cst:document.getElementById("eng_s_cst"),
  inert:document.getElementById("eng_s_inertia"),
  go:document.getElementById("eng_s_go"),
  tcst:document.getElementById("eng_s_cst_text"),
  tinert:document.getElementById("eng_s_inertia_text"),
  tgo:document.getElementById("eng_s_go_text")
};

let tuningPresses=0,engineReady=false,jumpRunning=false,travelAU=0;

function setEngSafety(cstOK,inertOK){
  function tag(circle,label,ok){
    circle.classList.remove("safe","warn","bad");
    if(ok){circle.classList.add("safe");label.textContent="GREEN";}
    else{circle.classList.add("warn");label.textContent="TUNING";}
  }
  tag(ENG_UI.cst,ENG_UI.tcst,cstOK);
  tag(ENG_UI.inert,ENG_UI.tinert,inertOK);

  if(cstOK&&inertOK){
    ENG_UI.go.classList.add("safe");ENG_UI.tgo.textContent="GO";engineReady=true;engJump.classList.remove("disabled");
  }else{
    ENG_UI.go.classList.remove("safe");ENG_UI.go.classList.add("warn");ENG_UI.tgo.textContent="NO-GO";engineReady=false;engJump.classList.add("disabled");
  }
}

engCalc.addEventListener("click",()=>{
  if(jumpRunning) return;
  tuningPresses++;
  const warp=parseInt(engWarp.value);
  engSpeedBadge.textContent="x"+warp.toFixed(1);
  travelAU=AU[engPlanet.value];

  const cstOK=tuningPresses>1;
  const inertOK=tuningPresses>2;
  setEngSafety(cstOK,inertOK);
});

engJump.addEventListener("click",()=>{
  if(!engineReady||jumpRunning) return;
  jumpRunning=true;engJump.classList.add("disabled");
  let t=0;
  const loop=setInterval(()=>{
    t+=0.01;
    if(t<.25){
      document.getElementById("eng_temp").textContent="Rising";
      document.getElementById("eng_temp").className="badge warn";
      document.getElementById("eng_field").textContent=(1.2+t).toFixed(2)+" × D";
    }else if(t<.75){
      document.getElementById("eng_temp").textContent="Stable";
      document.getElementById("eng_temp").className="badge ok";
      document.getElementById("eng_field").textContent="1.00 × D";
    }else if(t<1){
      document.getElementById("eng_temp").textContent="Falling";
      document.getElementById("eng_temp").className="badge warn";
      document.getElementById("eng_field").textContent=(1.2-(t-.75)*4).toFixed(2)+" × D";
    }else{
      clearInterval(loop);
      document.getElementById("eng_temp").textContent="Cool";
      document.getElementById("eng_temp").className="badge ok";
      jumpRunning=false;tuningPresses=0;setEngSafety(false,false);return;
    }
  },40);
});

setInterval(()=>{
  const now=new Date();
  document.getElementById("eng_clk_utc").textContent=now.toUTCString().slice(17,25);
  const cst=new Date(now.getTime()-6*3600*1000);
  document.getElementById("eng_clk_cst").textContent=cst.toUTCString().slice(17,25);
  const warpRate=tuningPresses>0?.94:1;
  const warp=new Date(now.getTime()*warpRate);
  document.getElementById("eng_clk_warp").textContent=warp.toUTCString().slice(17,25);
},200);
</script>
<!-- ===== FTL JUMP SCRIPT — LIGHT-YEAR NAVIGATION ===== -->
<script>
const jpCalc=document.getElementById("jp_calc");
const jpExec=document.getElementById("jp_execute");
const statusJP=document.getElementById("jp_status");

const sCST=document.getElementById("jp_s_cst");
const sIN=document.getElementById("jp_s_inertia");
const sGO=document.getElementById("jp_s_go");
const tCST=document.getElementById("jp_s_cst_text");
const tIN=document.getElementById("jp_s_inertia_text");
const tGO=document.getElementById("jp_s_go_text");

const f=(id)=>document.getElementById(id);

let tuningJ=0,jumpReady=false,jpRunning=false;

function jpSafety(cstOK,inertiaOK){
  function tag(circle,label,ok){
    circle.classList.remove("safe","warn","bad");
    if(ok){circle.classList.add("safe");label.textContent="GREEN";}
    else{circle.classList.add("warn");label.textContent="TUNING";}
  }
  tag(sCST,tCST,cstOK);tag(sIN,tIN,inertiaOK);
  if(cstOK&&inertiaOK){
    sGO.classList.add("safe");tGO.textContent="GO";jumpReady=true;jpExec.classList.remove("disabled");
  }else{
    sGO.classList.remove("safe");sGO.classList.add("warn");tGO.textContent="NO-GO";jumpReady=false;jpExec.classList.add("disabled");
  }
}

jpCalc.addEventListener("click",()=>{
  if(jpRunning) return;
  tuningJ++;
  const dist=parseFloat(f("jp_dist").value);
  const ra=parseFloat(f("jp_ra").value);
  const dec=parseFloat(f("jp_dec").value);
  const drift=parseInt(f("jp_drift").value);

  f("jp_align").textContent=`${ra.toFixed(4)}h | ${dec.toFixed(4)}° (drift:${drift})`;
  f("jp_dep").textContent=new Date().toUTCString().slice(5,25);

  const gamma=1+(dist/50);
  const vapp=dist/(1+dist/18);
  const err=Math.abs(Math.sin(ra)*Math.cos(dec)*drift*.000002);

  f("jp_gamma").textContent=gamma.toFixed(3);
  f("jp_vapp").textContent=vapp.toFixed(3)+" c*";
  f("jp_dline").textContent=dist.toFixed(2)+" ly";
  f("jp_sid").textContent=(drift*.000012).toFixed(6)+" AU";
  f("jp_err").textContent=err.toFixed(6)+" AU";
  f("jp_vec").textContent=err<.02?"Vector precise":"Correcting vector";

  const cstOK=tuningJ>1;
  const inertiaOK=tuningJ>2;
  jpSafety(cstOK,inertiaOK);

  statusJP.style.color="#fbbf24";
  statusJP.textContent="Jump path calculating — tuning...";

  const arr=new Date(Date.now()+dist*1800*1000);
  f("jp_arr").textContent=arr.toUTCString().slice(5,25);
  f("jp_ship").textContent=(dist*.003).toFixed(4)+" ship-hours";
});

jpExec.addEventListener("click",()=>{
  if(!jumpReady||jpRunning) return;
  jpRunning=true;jpExec.classList.add("disabled");
  statusJP.style.color="#22c55e";
  statusJP.textContent="Jump underway — hold tight...";
  let t=0;
  const flash=setInterval(()=>{
    t+=.02;
    const fx=Math.abs(Math.sin(t*60))*.6+.4;
    sCST.style.transform=`scale(${1+fx*.08})`;
    sIN.style.transform=`scale(${1+fx*.08})`;
    sGO.style.transform=`scale(${1+fx*.08})`;
    if(t>1.05){
      clearInterval(flash);
      sCST.style.transform=sIN.style.transform=sGO.style.transform="scale(1)";
      statusJP.style.color="#22c55e";
      statusJP.textContent="Arrival complete — re-entry stable.";
      tuningJ=0;jpSafety(false,false);jpRunning=false;return;
    }
  },40);
});
</script>

</div>
</body>
</html>
