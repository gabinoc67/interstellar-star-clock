<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Warp Control â€” Even Grid + Compact Panels (v3.6.1)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root{
    --bg:#070b12; --panel:#0c1424; --glass:#0d1a31cc; --edge:#27406b;
    --text:#eaf2ff; --muted:#a7b9df; --good:#22c55e; --warn:#facc15; --bad:#ef4444;
    --ui-scale:1; --fs:14px; --pad:8px;
    --gap: clamp(12px, 15%, 48px);
  }
  *{box-sizing:border-box}
  body{
    margin:0;background:
      radial-gradient(1200px 800px at 10% -10%, #112240 0%, transparent 60%),
      radial-gradient(900px 900px at 120% -20%, #0b1b33 0%, transparent 50%),
      var(--bg);
    color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial;font-size:var(--fs);
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }
  .viewportScale{transform:scale(var(--ui-scale));transform-origin:top left;width:calc(100%/var(--ui-scale))}
  .wrap{max-width:1600px;margin:0 auto;padding:var(--pad)}
  .glass{background:linear-gradient(180deg,#0b1528aa,#0b152880),radial-gradient(600px 200px at 20% -30%,#15305f55,transparent 60%);backdrop-filter:blur(6px)}
  .panel{border:1px solid var(--edge);border-radius:12px;padding:calc(var(--pad) - 1px);box-shadow:0 10px 24px rgba(0,0,0,.42)}
  h1,h2,h3{margin:.35rem 0}
  .grid{display:grid;gap:var(--gap)}

  /* Even grid */
  .evenGrid{
    display:grid;
    grid-template-columns: 320px 1fr 1fr 1fr;
    gap:var(--gap);
    align-items:start;
  }
  @media (max-width:1250px){ .evenGrid{ grid-template-columns: 280px 1fr 1fr; } }
  @media (max-width:980px){ .evenGrid{ grid-template-columns: 1fr 1fr; } }
  @media (max-width:640px){ .evenGrid{ grid-template-columns: 1fr; } }
  .span-all{grid-column:1 / -1}

  /* NEW: force Debris + Starfield to left column */
  .left-col {
    grid-column: 1;
    display: flex;
    flex-direction: column;
    gap: var(--gap);
  }
  /* form + misc UI styling */
  .controls label,
  .grid label{display:flex;flex-direction:column;align-items:flex-start;gap:4px;margin:6px 0;color:var(--muted);font-size:.95rem}
  select,input[type="number"],input[type="text"]{width:100%;background:#0b1220;color:#eaf2ff;border:1px solid #34425f;border-radius:8px;padding:6px 8px;font-size:.95rem}
  input[type="range"]{width:100%}
  button{background:#1b2a44;border:1px solid #304166;color:#e6eefc;padding:7px 9px;margin:3px;border-radius:8px;cursor:pointer}
  #startBtn{background:#00ccff;color:#00131a;border:none} #stopBtn{background:#64748b}
  #resetBtn{background:#fb923c;border:none} #exportBtn{background:#7c3aed;border:none}
  .lights{display:flex;gap:8px;flex-wrap:wrap}
  .light{display:flex;align-items:center;gap:6px;padding:3px 8px;border-radius:999px;border:1px solid #334155;background:#0b1220;font-size:.85rem}
  .dot{width:9px;height:9px;border-radius:50%}
  .good .dot{background:var(--good)} .warn .dot{background:var(--warn)} .bad .dot{background:var(--bad)}
  .meter{display:flex;align-items:center;gap:8px;margin:4px 0}
  .bar{height:9px;background:#0b1220;border:1px solid #334155;border-radius:6px;overflow:hidden;flex:1}
  .fill{height:100%;background:linear-gradient(90deg,#60a5fa,#22d3ee)}
  .stat{font-variant-numeric:tabular-nums;font-size:.86rem;color:var(--muted)}
  canvas{background:linear-gradient(180deg,#091323,#0a1322);border:1px solid #2b3a5a;border-radius:10px;max-width:100%;display:block}
  .pill{display:inline-block;padding:.1rem .4rem;border:1px solid #36507d;border-radius:999px;font-size:.8rem;color:#a5f3fc}
  .legend{color:var(--muted);font-size:.84rem;margin-top:6px}
  .hdrline{display:flex;justify-content:space-between;align-items:center;gap:10px}
  .toggle{display:flex;align-items:center;gap:10px;color:#a7b9df;font-size:.9rem}
  .badge{border:1px solid #3b4f77;border-radius:999px;padding:2px 8px;color:#93c5fd;background:#0b1220}
  .clockSection{margin-top:6px}
  .clockHeader{display:flex;align-items:center;justify-content:space-between;margin:2px 0 6px}
  .clockGrid{display:grid;grid-template-columns:repeat(5,1fr);gap:var(--gap)}
  @media (max-width:1200px){ .clockGrid{grid-template-columns:repeat(3,1fr)} }
  @media (max-width:820px){ .clockGrid{grid-template-columns:repeat(2,1fr)} }
  @media (max-width:520px){ .clockGrid{grid-template-columns:1fr} }
  .clockCard{background:#0b1220;border:1px solid #304166;border-radius:12px;padding:8px;display:grid;gap:4px; align-content:start}
  .clockHdr{display:flex;justify-content:space-between;align-items:center}
  .clockTitle{font-weight:600}
  .status{font-size:.78rem;border:1px solid #36507d;border-radius:999px;padding:2px 6px}
  .status.good{color:#0f0;border-color:#256f2a} .status.warn{color:#222;background:#facc15} .status.bad{color:#fff;background:#ef4444}
  .kv{display:grid;grid-template-columns:auto 1fr;gap:4px 8px;font-size:.84rem;color:#cfe2ff}
  #curveCanvas{width:100%;height:200px}
  #orbitCanvas{width:100%;height:280px}
  #debrisCanvas{width:100%;height:180px}
  #starfieldCanvas{width:100%;height:160px;background:radial-gradient(160px 105px at 50% 60%, #0a1322 0%, #08101d 65%, #060d18 100%)}
  #shieldCanvas{width:100%;height:160px}
  #grCanvas{width:100%;height:110px}
</style>
</head>
<body>
<div class="viewportScale">
  <div class="wrap grid">
    <div class="hdrline">
      <h1>ðŸš€ Warp Control Center</h1>
      <div class="toggle">
        <label>UI Scale <input id="uiScale" type="range" min="70" max="140" step="1" value="90"> <span id="uiScaleVal" class="badge">90%</span></label>
        <label>Sound <input id="soundOn" type="checkbox" checked></label>
        <span class="badge">v3.6.1</span>
      </div>
    </div>

    <section class="evenGrid">
      <!-- LEFT COLUMN (Debris + Starfield only) -->
      <div class="left-col">
        <div class="panel glass">
          <h2>Debris Defense Field</h2>
          <canvas id="debrisCanvas"></canvas>
          <div class="legend" id="debrisLegend">â€”</div>
        </div>
        <div class="panel glass">
          <h2>Warp Starfield Window</h2>
          <canvas id="starfieldCanvas"></canvas>
          <div class="legend" id="starfieldLegend">â€”</div>
        </div>
      </div>
      <!-- MAIN CONTENT PANELS -->
      <div class="panel glass">
        <h2>Flight Plan</h2>
        <p>Mission trajectory & checkpoints.</p>
        <div class="lights">
          <div class="light good"><div class="dot"></div> Nav Clear</div>
          <div class="light warn"><div class="dot"></div> Solar Wind</div>
          <div class="light bad"><div class="dot"></div> Hull Stress</div>
        </div>
      </div>

      <div class="panel glass">
        <h2>Gravity Vectoring Engine</h2>
        <div class="meter"><span>Power</span><div class="bar"><div class="fill" style="width:75%"></div></div><span class="stat">75%</span></div>
        <div class="meter"><span>Flux</span><div class="bar"><div class="fill" style="width:52%"></div></div><span class="stat">52%</span></div>
      </div>

      <div class="panel glass">
        <h2>Trajectory & Field Vectors</h2>
        <canvas id="curveCanvas"></canvas>
        <div class="legend">Current arc vs predicted warp lane</div>
      </div>

      <div class="panel glass">
        <h2>Heliocentric Polar Map</h2>
        <canvas id="orbitCanvas"></canvas>
        <div class="legend">Relative orbital positions</div>
      </div>

      <div class="panel glass">
        <h2>Shield Control</h2>
        <canvas id="shieldCanvas"></canvas>
        <div class="meter"><span>Integrity</span><div class="bar"><div class="fill" style="width:91%"></div></div><span class="stat">91%</span></div>
      </div>

      <div class="panel glass">
        <h2>Gravitational Resonance Mini</h2>
        <canvas id="grCanvas"></canvas>
        <p class="legend">Local resonance signature</p>
      </div>

      <div class="panel glass span-all">
        <h2>IST Orbital Tracker</h2>
        <p>Tracking external satellites.</p>
        <div class="clockSection">
          <div class="clockHeader">
            <h3>Clocks</h3>
            <span class="badge">Synced</span>
          </div>
          <div class="clockGrid">
            <div class="clockCard">
              <div class="clockHdr"><span class="clockTitle">Earth UTC</span><span class="status good">OK</span></div>
              <div class="kv"><span>Time</span><span id="clockUTC">â€”</span><span>Date</span><span id="dateUTC">â€”</span></div>
            </div>
            <div class="clockCard">
              <div class="clockHdr"><span class="clockTitle">Ship Time</span><span class="status good">OK</span></div>
              <div class="kv"><span>Time</span><span id="clockShip">â€”</span><span>Date</span><span id="dateShip">â€”</span></div>
            </div>
            <div class="clockCard">
              <div class="clockHdr"><span class="clockTitle">Mars Time</span><span class="status warn">Drift</span></div>
              <div class="kv"><span>Time</span><span id="clockMars">â€”</span><span>Date</span><span id="dateMars">â€”</span></div>
            </div>
            <div class="clockCard">
              <div class="clockHdr"><span class="clockTitle">Jupiter Sync</span><span class="status good">OK</span></div>
              <div class="kv"><span>Time</span><span id="clockJupiter">â€”</span><span>Date</span><span id="dateJupiter">â€”</span></div>
            </div>
            <div class="clockCard">
              <div class="clockHdr"><span class="clockTitle">Titan Relay</span><span class="status bad">Fail</span></div>
              <div class="kv"><span>Time</span><span id="clockTitan">â€”</span><span>Date</span><span id="dateTitan">â€”</span></div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
<!-- ====== JS ====== -->
<script>
/* UI scale slider */
const uiScaleInput=document.getElementById("uiScale");
const uiScaleVal=document.getElementById("uiScaleVal");
function updateScale(){
  let pct=uiScaleInput.value;
  document.documentElement.style.setProperty("--ui-scale",pct/100);
  uiScaleVal.textContent=pct+"%";
}
uiScaleInput.addEventListener("input",updateScale);
updateScale();

/* Debris Defense Field â€” random orbs */
const debrisC=document.getElementById("debrisCanvas");
const debris=debrisC.getContext("2d");
function drawDebris(){
  debris.clearRect(0,0,debrisC.width,debrisC.height);
  for(let i=0;i<25;i++){
    debris.fillStyle=`hsl(${200+Math.random()*60},70%,60%)`;
    debris.beginPath();
    debris.arc(Math.random()*debrisC.width,Math.random()*debrisC.height,2+Math.random()*4,0,Math.PI*2);
    debris.fill();
  }
}
drawDebris();

/* Warp Starfield Window â€” stars moving */
const starC=document.getElementById("starfieldCanvas");
const star=starC.getContext("2d");
let stars=[];
for(let i=0;i<60;i++){stars.push({x:Math.random()*starC.width,y:Math.random()*starC.height,s:1+Math.random()*2})}
function drawStars(){
  star.fillStyle="#060d18";star.fillRect(0,0,starC.width,starC.height);
  star.fillStyle="white";
  stars.forEach(p=>{
    star.fillRect(p.x,p.y,p.s,p.s);
    p.y+=p.s*0.5;if(p.y>starC.height)p.y=0;
  });
  requestAnimationFrame(drawStars);
}
drawStars();

/* Orbit canvas dummy */
const orbitC=document.getElementById("orbitCanvas");
const orbit=orbitC.getContext("2d");
function drawOrbit(){
  orbit.clearRect(0,0,orbitC.width,orbitC.height);
  orbit.strokeStyle="#22d3ee";orbit.beginPath();
  orbit.arc(orbitC.width/2,orbitC.height/2,100,0,Math.PI*2);
  orbit.stroke();
  orbit.fillStyle="#facc15";orbit.beginPath();
  orbit.arc(orbitC.width/2+100,orbitC.height/2,10,0,Math.PI*2);
  orbit.fill();
}
drawOrbit();

/* Shield dummy */
const shieldC=document.getElementById("shieldCanvas").getContext("2d");
shieldC.fillStyle="#22c55e";
shieldC.fillRect(20,40,200,60);

/* Gr resonance dummy */
const grC=document.getElementById("grCanvas").getContext("2d");
grC.fillStyle="#7c3aed";
for(let i=0;i<10;i++){grC.fillRect(i*20,50-Math.random()*40,10,40)}

/* Clocks */
function updateClocks(){
  const now=new Date();
  document.getElementById("clockUTC").textContent=now.toUTCString().split(" ")[4];
  document.getElementById("dateUTC").textContent=now.toISOString().split("T")[0];
  document.getElementById("clockShip").textContent=now.toLocaleTimeString();
  document.getElementById("dateShip").textContent=now.toLocaleDateString();
  document.getElementById("clockMars").textContent=new Date(now.getTime()*1.027).toUTCString().split(" ")[4];
  document.getElementById("dateMars").textContent="Sol "+Math.floor(now.getTime()/88775000);
  document.getElementById("clockJupiter").textContent=new Date(now.getTime()*0.413).toUTCString().split(" ")[4];
  document.getElementById("dateJupiter").textContent="Orbit "+Math.floor(now.getTime()/3600000);
  document.getElementById("clockTitan").textContent="--:--:--";
  document.getElementById("dateTitan").textContent="No Signal";
}
setInterval(updateClocks,1000);updateClocks();
</script>
</body>
</html>
