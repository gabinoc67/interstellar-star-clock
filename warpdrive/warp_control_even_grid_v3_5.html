<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Warp Control — Full System with Solar Simulation</title>
<style>
  :root {
    --bg:#070b12; --panel:#0c1424; --glass:#0d1a31cc; --edge:#27406b;
    --text:#eaf2ff; --muted:#a7b9df; --good:#22c55e; --warn:#facc15; --bad:#ef4444;
  }
  body {
    margin:0; background:var(--bg); color:var(--text);
    font-family:monospace; font-size:14px;
  }
  .grid {
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(30%, 1fr));
    gap:12px;
    padding:12px;
  }
  .panel {
    background:var(--glass);
    border:1px solid var(--edge);
    border-radius:12px;
    padding:8px;
    box-shadow:0 0 6px #000 inset;
    min-height:160px;
  }
  h2 {margin:0 0 6px 0;font-size:14px;color:var(--muted)}
  canvas {background:black;border-radius:8px;display:block;margin:auto}
  pre {margin:0;white-space:pre-wrap}
</style>
</head>
<body>
<div class="grid">

  <div class="panel"><h2>Flight Plan</h2><pre id="flightPlan"></pre></div>
  <div class="panel"><h2>Gravity Vectoring Engine</h2><pre id="gravityEngine"></pre></div>
  <div class="panel"><h2>Compass</h2><canvas id="compassCanvas" width="220" height="220"></canvas></div>

  <div class="panel"><h2>Center Hub</h2><pre id="centerHub"></pre></div>
  <div class="panel"><h2>Mode Alternator</h2><pre id="modeAlt"></pre></div>
  <div class="panel"><h2>Starfield</h2><canvas id="starfield" width="300" height="200"></canvas></div>

  <div class="panel"><h2>Heliocentric Polar Map</h2><pre id="orbitMap"></pre></div>
  <div class="panel"><h2>Einstein Tensor Mini</h2><pre id="tensorMini"></pre></div>
  <div class="panel"><h2>Pulse Radiation</h2><pre id="pulseRad"></pre></div>

  <div class="panel"><h2>Debris Defense Field</h2><canvas id="debrisCanvas" width="250" height="150"></canvas></div>
  <div class="panel"><h2>Warp Stability Monitor</h2><pre id="warpStab"></pre></div>
  <div class="panel"><h2>Subspace Field Analyzer</h2><pre id="subspace"></pre></div>

  <div class="panel"><h2>Orbital Tracker</h2><pre id="orbit-rows"></pre></div>
  <div class="panel"><h2>Clock Sync</h2><pre id="clockGrid"></pre></div>
  <div class="panel"><h2>Crew Panel</h2><pre id="crewPanel"></pre></div>

  <div class="panel"><h2>Environment</h2><pre id="envPanel"></pre></div>
  <div class="panel"><h2>Power Core</h2><pre id="powerCore"></pre></div>
  <div class="panel"><h2>Navigation Logs</h2><pre id="navLogs"></pre></div>

  <div class="panel"><h2>Communications</h2><pre id="comms"></pre></div>
  <div class="panel"><h2>Data Stream</h2><pre id="dataStream"></pre></div>
  
  <!-- 🌍 Solar System Simulation Panel -->
  <div class="panel"><h2>Solar System Simulation</h2>
    <canvas id="solarCanvas" width="300" height="300"></canvas>
  </div>

</div>

<script>
// ===============================
// Physics Constants
// ===============================
const C = 299792458; // m/s
const AU = 1.496e11;
const G = 6.67430e-11;
const M_EARTH = 5.972e24;
const R_EARTH = 6371000;
function rand(min,max){return Math.random()*(max-min)+min}
function fmt(n,d=2){return n.toFixed(d)}
function nowCST(){
  const now=new Date();
  const utc=now.getTime()+now.getTimezoneOffset()*60000;
  return new Date(utc-(3600000*6));
}

// ===============================
// Solar System Panel
// ===============================
const solarCanvas=document.getElementById("solarCanvas");
const sctx=solarCanvas.getContext("2d");
const W=solarCanvas.width,H=solarCanvas.height,cx=W/2,cy=H/2;
const planets=[
 {name:"Mercury",r:0.39,color:"#aaa",period:88},
 {name:"Venus",r:0.72,color:"#f5c542",period:225},
 {name:"Earth",r:1.00,color:"#42a5f5",period:365},
 {name:"Mars",r:1.52,color:"#e65100",period:687},
 {name:"Jupiter",r:5.20,color:"#fbc02d",period:4333},
 {name:"Saturn",r:9.58,color:"#fdd835",period:10759},
 {name:"Uranus",r:19.2,color:"#80deea",period:30687},
 {name:"Neptune",r:30.1,color:"#1565c0",period:60190}
];
const AU_PIX=20;
const speed=100;

function drawSolar(){
  sctx.clearRect(0,0,W,H);
  // Sun
  sctx.beginPath();
  sctx.arc(cx,cy,6,0,2*Math.PI);
  sctx.fillStyle="yellow";sctx.fill();
  let t=Date.now()/1000*speed;
  planets.forEach(p=>{
    let angle=(t/p.period)*2*Math.PI;
    let x=cx+Math.cos(angle)*p.r*AU_PIX;
    let y=cy+Math.sin(angle)*p.r*AU_PIX;
    // orbit path
    sctx.beginPath();
    sctx.arc(cx,cy,p.r*AU_PIX,0,2*Math.PI);
    sctx.strokeStyle="rgba(255,255,255,0.1)";
    sctx.stroke();
    // planet
    sctx.beginPath();
    sctx.arc(x,y,3,0,2*Math.PI);
    sctx.fillStyle=p.color;sctx.fill();
    // label
    sctx.fillStyle="white";sctx.font="10px monospace";
    sctx.fillText(p.name,x+6,y+4);
  });
  requestAnimationFrame(drawSolar);
}
drawSolar();

// ===============================
// Other Panels (Live Simulation)
// ===============================
function updateFlightPlan(){
  let distLY=rand(4,20);
  let eta=(distLY*9.461e15/C)/(60*60*24*365);
  document.getElementById("flightPlan").textContent=
   `Target: Proxima\nDist: ${fmt(distLY,2)} ly\nETA: ${fmt(eta,2)} y`;
}
function updateGravityEngine(){
  let thrust=rand(1e6,1e7),mass=rand(5e5,2e6);
  let a=thrust/mass;
  document.getElementById("gravityEngine").textContent=
   `Thrust: ${fmt(thrust)} N\nMass: ${fmt(mass)} kg\na=${fmt(a,3)} m/s²`;
}
function updateCenterHub(){
  document.getElementById("centerHub").textContent=
   `Engine: Idle\nWarp Bubble: Stable\nTemp: ${fmt(rand(270,300))} K`;
}
function updateModeAlt(){
  let modes=["Idle","Impulse","Warp Prep","Warp Cruise"];
  document.getElementById("modeAlt").textContent="Mode: "+modes[Math.floor(rand(0,modes.length))];
}
function updateOrbitMap(){
  let r=rand(1,10)*AU;let v=Math.sqrt(G*M_EARTH/r);
  document.getElementById("orbitMap").textContent=`Orbit: ${(r/AU).toFixed(2)} AU\nv=${fmt(v/1000,2)} km/s`;
}
function updateTensorMini(){
  document.getElementById("tensorMini").textContent="Gμν ≈ diag(-1,1,1,1)\nδg ≈ "+fmt(rand(0,1e-3),5);
}
function updatePulseRad(){
  let f=rand(1e3,1e6);
  document.getElementById("pulseRad").textContent=`Pulse f=${fmt(f)} Hz\nAmp=${fmt(rand(0,5))}`;
}
function updateWarpStab(){
  document.getElementById("warpStab").textContent=`σ=${fmt(rand(0,1e-3),5)}\nBubble: Stable`;
}
function updateSubspace(){
  document.getElementById("subspace").textContent=`Noise:${fmt(rand(0,1))}\nFlux:${fmt(rand(0,1e-2),4)}`;
}
function updateClock(){
  let t=nowCST();
  document.getElementById("clockGrid").textContent=t.toLocaleString();
}
function updateCrew(){
  document.getElementById("crewPanel").textContent=`Crew: ${Math.floor(rand(80,100))}% fit\nVitals OK`;
}
function updateEnv(){
  document.getElementById("envPanel").textContent=`O₂:${fmt(rand(19,21))}%\nPressure:${fmt(rand(0.9,1.1))} atm`;
}
function updatePower(){
  document.getElementById("powerCore").textContent=`Core:${fmt(rand(60,100))}%\nTemp:${fmt(rand(300,600))} K`;
}
function updateNavLogs(){
  document.getElementById("navLogs").textContent=`Δv=${fmt(rand(0,5))} km/s\nHeading=${fmt(rand(0,360))}°`;
}
function updateComms(){
  document.getElementById("comms").textContent=`Signal SNR:${fmt(rand(10,50))} dB\nLag:${fmt(rand(0,2),3)} s`;
}
function updateDataStream(){
  document.getElementById("dataStream").textContent=`Packets:${Math.floor(rand(1000,2000))}/s\nErr:${fmt(rand(0,0.1),3)}`;
}

// Compass
const comp=document.getElementById("compassCanvas");
const cctx=comp.getContext("2d");
function drawCompass(){
  cctx.clearRect(0,0,220,220);
  cctx.beginPath();cctx.arc(110,110,100,0,2*Math.PI);cctx.strokeStyle="#fff";cctx.stroke();
  let heading=Date.now()/100 % 360;
  let rad=heading*Math.PI/180;
  cctx.beginPath();cctx.moveTo(110,110);
  cctx.lineTo(110+90*Math.cos(rad),110+90*Math.sin(rad));
  cctx.strokeStyle="red";cctx.stroke();
  cctx.fillStyle="white";cctx.fillText(fmt(heading),100,200);
  requestAnimationFrame(drawCompass);
}
drawCompass();

// Starfield
const star=document.getElementById("starfield");
const s=star.getContext("2d");
let stars=Array.from({length:100},()=>({x:rand(0,300),y:rand(0,200),z:rand(1,3)}));
function drawStars(){
  s.clearRect(0,0,300,200);
  stars.forEach(st=>{s.fillStyle="white";s.fillRect(st.x,st.y,st.z,st.z)});
  requestAnimationFrame(drawStars);
}
drawStars();

// Master Loop
setInterval(()=>{
  updateFlightPlan();
  updateGravityEngine();
  updateCenterHub();
  updateModeAlt();
  updateOrbitMap();
  updateTensorMini();
  updatePulseRad();
  updateWarpStab();
  updateSubspace();
  updateClock();
  updateCrew();
  updateEnv();
  updatePower();
  updateNavLogs();
  updateComms();
  updateDataStream();
},1000);
</script>
</body>
</html>
