<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Warp Drive Simulator</title>
  <style>
    body {
      margin: 0;
      font-family: 'Courier New', monospace;
      background-color: black;
      color: cyan;
      display: flex;
    }
    #controls {
      width: 320px;
      padding: 15px;
      border-right: 1px solid cyan;
    }
    .panel {
      margin-bottom: 10px;
    }
    label, select, button {
      display: block;
      width: 100%;
      margin-top: 5px;
    }
    canvas {
      flex-grow: 1;
      background-color: #000;
      display: block;
    }
    #info {
      font-size: 14px;
      margin-top: 10px;
      line-height: 1.5;
    }
  </style>
</head>
<body>
  <div id="controls">
    <div id="info">
      <div>üü¢ <strong>CST Time:</strong> <span id="cstTime">--:--:--</span></div>
      <div>üì° <strong>Distance:</strong> <span id="distance">--</span> AU</div>
      <div>üß≠ <strong>Angle:</strong> <span id="angle">--</span>¬∞</div>
      <div>‚è± <strong>Departure:</strong> <span id="departure">--</span></div>
      <div>üõ¨ <strong>Arrival:</strong> <span id="arrival">--</span></div>
      <div>‚è≥ <strong>Duration:</strong> <span id="duration">--</span></div>
    </div>
    <div class="panel">
      <label for="planet">Destination</label>
      <select id="planet">
        <option>Mercury</option>
        <option>Venus</option>
        <option>Earth</option>
        <option>Mars</option>
        <option>Jupiter</option>
        <option>Saturn</option>
        <option>Uranus</option>
        <option>Neptune</option>
        <option>Pluto</option>
      </select>
    </div>
    <div class="panel">
      <label for="warp">Warp Level</label>
      <select id="warp">
        <option>Warp 1</option>
        <option>Warp 2</option>
        <option>Warp 3</option>
        <option>Warp 4</option>
        <option>Warp 5</option>
        <option>Warp 6</option>
        <option>Warp 7</option>
        <option>Warp 8</option>
        <option>Warp 9</option>
        <option>Warp 10</option>
      </select>
    </div>
    <button id="engage">üöÄ Engage Warp</button>
    <button id="reset">üîÑ Reset</button>
    <button id="screenshot">üì∏ Screenshot</button>
  </div>
  <canvas id="spaceCanvas" width="1200" height="768"></canvas>

  <script>
    const canvas = document.getElementById('spaceCanvas');
    const ctx = canvas.getContext('2d');
    const planetPositions = {
      Mercury: { x: 150, y: 380, au: 0.39 },
      Venus:   { x: 200, y: 340, au: 0.72 },
      Earth:   { x: 300, y: 300, au: 1.00 },
      Mars:    { x: 400, y: 350, au: 1.52 },
      Jupiter: { x: 550, y: 310, au: 5.20 },
      Saturn:  { x: 700, y: 370, au: 9.58 },
      Uranus:  { x: 850, y: 330, au: 19.20 },
      Neptune: { x: 1000, y: 350, au: 30.05 },
      Pluto:   { x: 1100, y: 300, au: 39.48 }
    };

    const planetSelect = document.getElementById('planet');
    const warpSelect = document.getElementById('warp');
    const engageBtn = document.getElementById('engage');
    const resetBtn = document.getElementById('reset');

    const cstTime = document.getElementById('cstTime');
    const distanceDisplay = document.getElementById('distance');
    const angleDisplay = document.getElementById('angle');
    const departureDisplay = document.getElementById('departure');
    const arrivalDisplay = document.getElementById('arrival');
    const durationDisplay = document.getElementById('duration');

    function updateTime() {
      const now = new Date();
      cstTime.textContent = now.toLocaleTimeString('en-US', { timeZone: 'America/Chicago' });
    }
    setInterval(updateTime, 1000);
    updateTime();

    function drawPlanets() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (const [name, pos] of Object.entries(planetPositions)) {
        ctx.beginPath();
        ctx.arc(pos.x, pos.y, 8, 0, 2 * Math.PI);
        ctx.fillStyle = name === 'Earth' ? 'cyan' : name === 'Sun' ? 'yellow' : 'white';
        ctx.fill();
        ctx.fillStyle = 'white';
        ctx.fillText(name, pos.x + 10, pos.y);
      }
    }

    function engageWarp() {
      const planetName = planetSelect.value;
      const warpLevel = parseInt(warpSelect.value.split(' ')[1]);
      const dest = planetPositions[planetName];
      const earth = planetPositions['Earth'];

      const dx = dest.x - earth.x;
      const dy = dest.y - earth.y;
      const angle = Math.atan2(dy, dx) * 180 / Math.PI;
      const angleFixed = (angle < 0) ? angle + 360 : angle;

      const au = dest.au;
      const now = new Date();
      const departure = now.toLocaleTimeString();
      const travelSeconds = Math.round((au / warpLevel) * 100);
      const arrival = new Date(now.getTime() + travelSeconds * 1000);

      distanceDisplay.textContent = au;
      angleDisplay.textContent = angleFixed.toFixed(2);
      departureDisplay.textContent = departure;
      arrivalDisplay.textContent = arrival.toLocaleTimeString();

      const durationMs = arrival.getTime() - now.getTime();
      const minutes = String(Math.floor(durationMs / 60000)).padStart(2, '0');
      const seconds = String(Math.floor((durationMs % 60000) / 1000)).padStart(2, '0');
      const milliseconds = String(durationMs % 1000).padStart(3, '0');
      durationDisplay.textContent = `${minutes}:${seconds}:${milliseconds}`;

      drawPlanets();
      ctx.beginPath();
      ctx.moveTo(earth.x, earth.y);
      ctx.lineTo(dest.x, dest.y);
      ctx.strokeStyle = 'cyan';
      ctx.lineWidth = 2;
      ctx.stroke();

      const steps = 100;
      let step = 0;
      const interval = setInterval(() => {
        const x = earth.x + (dx * step / steps);
        const y = earth.y + (dy * step / steps);
        drawPlanets();
        ctx.beginPath();
        ctx.arc(x, y, 6, 0, 2 * Math.PI);
        ctx.fillStyle = 'lime';
        ctx.fill();
        ctx.strokeStyle = 'white';
        ctx.stroke();
        step++;
        if (step > steps) clearInterval(interval);
      }, 20);
    }

    engageBtn.onclick = engageWarp;
    resetBtn.onclick = () => {
      drawPlanets();
      distanceDisplay.textContent = '--';
      angleDisplay.textContent = '--';
      departureDisplay.textContent = '--';
      arrivalDisplay.textContent = '--';
      durationDisplay.textContent = '--';
    };

    drawPlanets();
  </script>
</body>
</html>
