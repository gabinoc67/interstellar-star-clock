<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Warp Drive Simulator</title>
  <style>
    body {
      background-color: black;
      margin: 0;
      font-family: 'Courier New', Courier, monospace;
      color: #00ffff;
    }
    .ui-panel {
      position: absolute;
      top: 0;
      left: 0;
      width: 300px;
      height: 100%;
      border-right: 1px solid cyan;
      padding: 10px;
      box-sizing: border-box;
      font-size: 14px;
    }
    canvas {
      position: absolute;
      top: 0;
      left: 300px;
      z-index: -1;
    }
    select, button {
      width: 90%;
      font-size: 14px;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <div class="ui-panel">
    <p>🟢 <strong>CST Time:</strong> <span id="cstTime">--:--:--</span></p>
    <p>📡 <strong>Distance:</strong> <span id="distance">--</span> AU</p>
    <p>🧭 <strong>Angle:</strong> <span id="angle">--</span>°</p>
    <p>⏱ <strong>Departure:</strong> <span id="departure">--</span></p>
    <p>🛬 <strong>Arrival:</strong> <span id="arrival">--</span></p>
    <p>⏳ <strong>Duration:</strong> <span id="duration">--</span></p>
    <label for="planetSelect">Destination</label>
    <select id="planetSelect">
      <option value="Mercury">Mercury</option>
      <option value="Venus">Venus</option>
      <option value="Mars">Mars</option>
      <option value="Jupiter">Jupiter</option>
      <option value="Saturn">Saturn</option>
      <option value="Uranus">Uranus</option>
      <option value="Neptune">Neptune</option>
      <option value="Pluto">Pluto</option>
    </select>
    <label for="warpLevel">Warp Level</label>
    <select id="warpLevel">
      <option value="1">Warp 1</option>
      <option value="2">Warp 2</option>
      <option value="3">Warp 3</option>
      <option value="4">Warp 4</option>
      <option value="5">Warp 5</option>
      <option value="6">Warp 6</option>
      <option value="7">Warp 7</option>
      <option value="8">Warp 8</option>
      <option value="9">Warp 9</option>
      <option value="10">Warp 10</option>
    </select>
    <button onclick="engageWarp()">🚀 Engage Warp</button>
    <button onclick="resetScene()">🔄 Reset</button>
    <button onclick="screenshot()">📸 Screenshot</button>
  </div>
  <canvas id="spaceCanvas"></canvas>
  <script>
    const canvas = document.getElementById('spaceCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const planets = [
      { name: 'Mercury', x: 400, y: 500 },
      { name: 'Venus', x: 500, y: 450 },
      { name: 'Earth', x: 600, y: 400 },
      { name: 'Mars', x: 700, y: 450 },
      { name: 'Jupiter', x: 800, y: 400 },
      { name: 'Saturn', x: 950, y: 470 },
      { name: 'Uranus', x: 1100, y: 440 },
      { name: 'Neptune', x: 1250, y: 460 },
      { name: 'Pluto', x: 1400, y: 400 }
    ];

    function drawPlanets() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = 'white';
      planets.forEach(planet => {
        ctx.beginPath();
        ctx.arc(planet.x, planet.y, 10, 0, 2 * Math.PI);
        ctx.fill();
        ctx.fillText(planet.name, planet.x - 20, planet.y + 25);
      });
      ctx.fillStyle = 'cyan';
      ctx.beginPath();
      ctx.arc(planets[2].x, planets[2].y, 10, 0, 2 * Math.PI);
      ctx.fill();
    }

    function updateTime() {
      const now = new Date();
      document.getElementById('cstTime').textContent = now.toLocaleTimeString();
    }
    setInterval(updateTime, 1000);

    function engageWarp() {
      const selected = document.getElementById('planetSelect').value;
      const warp = parseInt(document.getElementById('warpLevel').value);
      const dest = planets.find(p => p.name === selected);
      const earth = planets[2];

      const dx = dest.x - earth.x;
      const dy = dest.y - earth.y;
      const dist = Math.sqrt(dx * dx + dy * dy) / 100;

      const now = new Date();
      const arrival = new Date(now.getTime() + dist * (10 - warp) * 1000);

      document.getElementById('distance').textContent = dist.toFixed(2);
      document.getElementById('departure').textContent = now.toLocaleTimeString();
      document.getElementById('arrival').textContent = arrival.toLocaleTimeString();

      let shipX = earth.x;
      let shipY = earth.y;
      const step = 1 + warp / 2;
      const interval = setInterval(() => {
        drawPlanets();
        ctx.fillStyle = 'lime';
        ctx.beginPath();
        ctx.arc(shipX, shipY, 6, 0, 2 * Math.PI);
        ctx.fill();

        shipX += dx / (50 / step);
        shipY += dy / (50 / step);

        if ((dx > 0 && shipX >= dest.x) || (dx < 0 && shipX <= dest.x)) {
          clearInterval(interval);
          drawPlanets();
        }
      }, 50);
    }

    function resetScene() {
      document.getElementById('distance').textContent = '--';
      document.getElementById('angle').textContent = '--';
      document.getElementById('departure').textContent = '--';
      document.getElementById('arrival').textContent = '--';
      document.getElementById('duration').textContent = '--';
      drawPlanets();
    }

    function screenshot() {
      const link = document.createElement('a');
      link.download = 'warp_simulator.png';
      link.href = canvas.toDataURL();
      link.click();
    }

    drawPlanets();
  </script>
</body>
</html>
