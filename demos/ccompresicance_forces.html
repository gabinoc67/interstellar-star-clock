<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Comprecisance Map — Compression, Precision & the Itch</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root { color-scheme: dark; }
  body {
    margin: 0;
    padding: 16px;
    background: radial-gradient(circle at top, #020617 0, #000 60%);
    color: #e5e7eb;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  }
  h1 {
    margin-top: 0;
    font-size: 1.4rem;
  }
  p {
    margin: 0 0 0.5rem 0;
  }
  .layout {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
  }
  #plot {
    border: 1px solid #1f2933;
    background: radial-gradient(circle at center, #020617 0, #020617 30%, #000 100%);
    border-radius: 10px;
  }
  .side {
    display: flex;
    flex-direction: column;
    gap: 10px;
    min-width: 260px;
    max-width: 420px;
  }
  .box {
    padding: 12px;
    border-radius: 12px;
    background: rgba(15, 23, 42, 0.9);
    border: 1px solid #1f2937;
  }
  .box h2 {
    margin-top: 0;
    font-size: 1.05rem;
  }
  .controls label {
    display: block;
    margin-top: 10px;
    font-size: 0.9rem;
  }
  input[type="range"] {
    width: 100%;
  }
  .tiny {
    font-size: 0.78rem;
    color: #9ca3af;
    margin-top: 2px;
    line-height: 1.25;
  }
  .legend {
    margin-top: 8px;
    font-size: 0.85rem;
  }
  .legend-item {
    display: flex;
    align-items: center;
    gap: 6px;
    margin-bottom: 4px;
  }
  .dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
  }
  .status {
    margin-top: 10px;
    font-size: 0.85rem;
    line-height: 1.4;
  }
  .status strong {
    color: #a5b4fc;
  }
  .about {
    font-size: 0.85rem;
    line-height: 1.4;
  }
  .about ul {
    margin: 0.3rem 0 0 1.2rem;
    padding: 0;
  }
  .about li {
    margin-bottom: 0.25rem;
  }
  .itch-meter {
    margin-top: 8px;
    font-size: 0.82rem;
  }
  .itch-bar {
    margin-top: 4px;
    width: 100%;
    height: 8px;
    border-radius: 999px;
    background: #1f2937;
    overflow: hidden;
  }
  .itch-fill {
    height: 100%;
    width: 0%;
    background: linear-gradient(to right, #22c55e, #eab308, #f97316, #ef4444);
    transition: width 0.15s ease-out;
  }
</style>
</head>
<body>
  <h1>Comprecisance Plane — Compression vs Precision & the “Itch”</h1>
  <p style="max-width: 840px; font-size: 0.9rem;">
    This page is a <strong>conceptual map</strong> of your Comprecisance idea:
    we treat <em>compression</em> and <em>precision</em> as two axes and place the
    four interactions (EM, weak, strong, gravity) as points in that space.
    The shaded diagonal band is the region where configurations feel “just right”
    to a Comprecisance-bounded brain. Outside that band, things are still
    physically allowed, but they start to generate the familiar <strong>“something is off” itch</strong>.
  </p>

  <div class="layout">
    <canvas id="plot" width="480" height="480"></canvas>

    <div class="side">
      <div class="box controls">
        <h2>Comprecisance Band Settings</h2>

        <label>
          Band width
          <input id="bandWidth" type="range" min="0.05" max="0.4" step="0.01" value="0.18">
          <div class="tiny">
            • A <strong>narrow</strong> band = a very picky Comprecisance system:
            only a small region of compression–precision feels acceptable.<br>
            • A <strong>wider</strong> band = the system tolerates more variation
            before complaining that something is “wrong”.
          </div>
        </label>

        <label>
          Preferred slope
          <input id="slope" type="range" min="0.4" max="1.6" step="0.05" value="1.0">
          <div class="tiny">
            This sets the <strong>trade-off</strong> your system prefers between
            compression and precision:<br>
            • Higher slope = you demand more compression for any given precision.<br>
            • Lower slope = you accept less compression if precision is high enough.
          </div>
        </label>

        <div class="legend">
          <div class="legend-item">
            <div class="dot" style="background:#38bdf8;"></div> EM (Electromagnetic)
          </div>
          <div class="legend-item">
            <div class="dot" style="background:#f97316;"></div> Weak Nuclear
          </div>
          <div class="legend-item">
            <div class="dot" style="background:#22c55e;"></div> Strong Nuclear
          </div>
          <div class="legend-item">
            <div class="dot" style="background:#e5e7eb;"></div> Gravity
          </div>
          <div class="legend-item">
            <div class="dot" style="background:#f472b6;"></div> Block (shifted configuration)
          </div>
        </div>
      </div>

      <div class="box">
        <h2>The Shifted Block & the Brain Itch</h2>
        <div class="about">
          <p style="margin-top:0;">
            The pink point is a <strong>“block configuration”</strong> — think of a block on a shelf
            that you slide to the side. Gravity may still keep it from falling, but your
            nervous system starts to protest.
          </p>
          <ul>
            <li>
              Use the sliders below to move the block’s position in the
              compression–precision plane.
            </li>
            <li>
              When the block is <strong>inside</strong> the shaded band, Comprecisance is satisfied:
              it feels aligned, tidy, “OK”.
            </li>
            <li>
              When the block leaves the band, the <strong>itch level</strong> increases: the
              configuration is still stable, but Comprecisance flags it as suboptimal.
            </li>
          </ul>

          <label style="margin-top:8px;">
            Block precision (x-axis)
            <input id="blockX" type="range" min="0.0" max="1.0" step="0.01" value="0.55">
          </label>
          <label>
            Block compression (y-axis)
            <input id="blockY" type="range" min="0.0" max="1.0" step="0.01" value="0.60">
          </label>

          <div class="itch-meter">
            <strong>Block itch level:</strong> <span id="itchLabel">calm (no itch)</span>
            <div class="itch-bar">
              <div id="itchFill" class="itch-fill"></div>
            </div>
          </div>

          <div id="status" class="status"></div>
        </div>
      </div>
    </div>
  </div>

<script>
const canvas = document.getElementById("plot");
const ctx = canvas.getContext("2d");

const forces = [
  // name, precision (x), compression (y), color
  { name: "EM",           x: 0.78, y: 0.72, color: "#38bdf8" },
  { name: "Weak",         x: 0.65, y: 0.55, color: "#f97316" },
  { name: "Strong",       x: 0.88, y: 0.82, color: "#22c55e" },
  { name: "Gravity",      x: 0.35, y: 0.40, color: "#e5e7eb" }
];

const bandWidthInput = document.getElementById("bandWidth");
const slopeInput     = document.getElementById("slope");
const blockXInput    = document.getElementById("blockX");
const blockYInput    = document.getElementById("blockY");
const statusDiv      = document.getElementById("status");
const itchLabel      = document.getElementById("itchLabel");
const itchFill       = document.getElementById("itchFill");

function drawAxes() {
  const w = canvas.width;
  const h = canvas.height;

  ctx.clearRect(0, 0, w, h);

  // Grid
  ctx.strokeStyle = "rgba(148,163,184,0.15)";
  ctx.lineWidth = 1;
  for (let i = 0; i <= 10; i++) {
    const x = (w / 10) * i;
    const y = (h / 10) * i;

    ctx.beginPath();
    ctx.moveTo(x, 0);
    ctx.lineTo(x, h);
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(0, y);
    ctx.lineTo(w, y);
    ctx.stroke();
  }

  // Axes
  ctx.strokeStyle = "#9ca3af";
  ctx.lineWidth = 1.5;
  // x-axis
  ctx.beginPath();
  ctx.moveTo(40, h - 40);
  ctx.lineTo(w - 10, h - 40);
  ctx.stroke();
  // y-axis
  ctx.beginPath();
  ctx.moveTo(40, h - 40);
  ctx.lineTo(40, 10);
  ctx.stroke();

  ctx.fillStyle = "#e5e7eb";
  ctx.font = "12px system-ui";
  ctx.fillText("Precision →", 200, h - 18);
  ctx.save();
  ctx.translate(16, 230);
  ctx.rotate(-Math.PI / 2);
  ctx.fillText("Compression ↑", 0, 0);
  ctx.restore();
}

function toCanvasCoords(x, y) {
  const padding = 40;
  const w = canvas.width - padding * 2;
  const h = canvas.height - padding * 2;

  const cx = padding + x * w;
  const cy = canvas.height - padding - y * h;
  return { cx, cy };
}

function drawBand() {
  const width = parseFloat(bandWidthInput.value);
  const m = parseFloat(slopeInput.value);

  // Band defined by y = m*x ± width (clamped to [0,1])
  const samples = 100;
  ctx.beginPath();
  for (let i = 0; i <= samples; i++) {
    const x = i / samples;
    let yTop = m * x + width;
    if (yTop > 1) yTop = 1;
    const { cx, cy } = toCanvasCoords(x, yTop);
    if (i === 0) ctx.moveTo(cx, cy);
    else ctx.lineTo(cx, cy);
  }
  for (let i = samples; i >= 0; i--) {
    const x = i / samples;
    let yBottom = m * x - width;
    if (yBottom < 0) yBottom = 0;
    const { cx, cy } = toCanvasCoords(x, yBottom);
    ctx.lineTo(cx, cy);
  }
  ctx.closePath();
  ctx.fillStyle = "rgba(79, 70, 229, 0.18)";
  ctx.fill();
  ctx.strokeStyle = "rgba(129, 140, 248, 0.6)";
  ctx.lineWidth = 1;
  ctx.stroke();
}

function drawForcesAndBlock() {
  const inside = [];
  const outside = [];

  const width = parseFloat(bandWidthInput.value);
  const m = parseFloat(slopeInput.value);

  // Draw forces
  for (const f of forces) {
    const { cx, cy } = toCanvasCoords(f.x, f.y);
    ctx.beginPath();
    ctx.arc(cx, cy, 6, 0, Math.PI * 2);
    ctx.fillStyle = f.color;
    ctx.fill();

    ctx.font = "11px system-ui";
    ctx.fillStyle = "#e5e7eb";
    ctx.fillText(f.name, cx + 8, cy - 8);

    // Distance to center line y = m x
    const yLine = m * f.x;
    const dist = Math.abs(f.y - yLine);

    if (dist <= width) inside.push(f.name);
    else outside.push(f.name);
  }

  // Draw block (shifted configuration)
  const block = {
    name: "Block",
    x: parseFloat(blockXInput.value),
    y: parseFloat(blockYInput.value),
    color: "#f472b6"
  };
  const { cx: bx, cy: by } = toCanvasCoords(block.x, block.y);
  ctx.beginPath();
  ctx.arc(bx, by, 8, 0, Math.PI * 2);
  ctx.fillStyle = block.color;
  ctx.fill();
  ctx.font = "11px system-ui";
  ctx.fillStyle = "#f9a8d4";
  ctx.fillText("Block", bx + 10, by - 10);

  // Compute block distance and itch
  const yLineBlock = m * block.x;
  const distBlock = Math.abs(block.y - yLineBlock);

  const blockInside = distBlock <= width;

  // Itch level: 0 if inside band, rising as we move away
  let itch = 0;
  if (!blockInside) {
    // normalize roughly over a distance scale
    itch = Math.min(1, (distBlock - width) / 0.4);
  }

  let itchText;
  if (itch === 0) {
    itchText = "calm (no itch — configuration feels aligned)";
  } else if (itch < 0.33) {
    itchText = "mild itch (something feels slightly off)";
  } else if (itch < 0.7) {
    itchText = "noticeable itch (your brain keeps looking at it)";
  } else {
    itchText = "intense itch (feels wrong even if it won’t fall)";
  }

  itchLabel.textContent = itchText;
  itchFill.style.width = (itch * 100).toFixed(0) + "%";

  let text = "";
  text += "<strong>Forces inside the Comprecisance band:</strong> " +
          (inside.length ? inside.join(", ") : "none") + "<br>";
  text += "<strong>Forces outside (they feel a bit “off”):</strong> " +
          (outside.length ? outside.join(", ") : "none") + "<br><br>";

  text += "<strong>Shifted block:</strong> " +
          (blockInside ? "inside the comfort band (no structural itch)" :
                         "outside the comfort band (Comprecisance flags it)") +
          "<br>";
  text += "Gravity may still allow the block configuration, but Comprecisance reacts to how far its point " +
          "sits from the preferred compression–precision band. The farther it drifts, the stronger the itch.";

  statusDiv.innerHTML = text;
}

function redraw() {
  drawAxes();
  drawBand();
  drawForcesAndBlock();
}

bandWidthInput.addEventListener("input", redraw);
slopeInput.addEventListener("input", redraw);
blockXInput.addEventListener("input", redraw);
blockYInput.addEventListener("input", redraw);

redraw();
</script>
</body>
</html>
