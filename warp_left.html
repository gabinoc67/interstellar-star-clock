<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Left Control Panel</title>
  <style>
    body {
      margin: 0;
      padding: 12px;
      background-color: black;
      color: white;
      font-family: Arial, sans-serif;
      font-size: 14px;
    }

    .panel {
      background-color: #111;
      border: 1px solid #444;
      border-radius: 10px;
      padding: 12px;
      margin-bottom: 20px;
    }

    .panel h2 {
      color: #00ffff;
      font-size: 16px;
      margin-top: 0;
    }

    .highlight {
      color: #00ff00;
    }

    .red {
      color: red;
    }

    .blue {
      color: #00ccff;
    }

    .status {
      margin-top: 4px;
    }
  </style>
</head>
<body>

  <div class="panel" id="einsteinPanel">
    <h2>Einstein Tensor Mini</h2>
    <div>Gμν ≈ (curvature proxies) • EM energy density used for Tμν (NEC/WEC/SEC OK unless gtt≤0)</div>
    <div class="status">gtt min: <span id="gtt">1.000000</span></div>
    <div class="status">ρem min/max: <span id="rho">6.827e-17 / 8.825e-9</span></div>
    <div class="status">EC: ✅ NEC • ✅ WEC • ✅ SEC</div>
    <div class="status">Horizons: <span id="horizon">None</span></div>
  </div>

  <div class="panel" id="gvePanel">
    <h2>Gravity Vectoring Engine</h2>
    <div class="status">Reactor Output (MW): <span id="reactor">5000</span></div>
    <div class="status">Front Contraction: <span id="front">35%</span></div>
    <div class="status">Rear Expansion: <span id="rear">65%</span></div>
    <div class="status">Left/Right Bias: <span id="lr">0%</span></div>
    <div class="status">Up/Down Bias: <span id="ud">0%</span></div>
    <div class="status">Intake Mode: Balanced (±)</div>
    <div class="status">Power Allocation:</div>
    <ul>
      <li>Field Coils: <span id="coils">2025</span> MW</li>
      <li>Vectoring Vanes: <span id="vanes">1750</span> MW</li>
      <li>Containment: <span id="containment">1100</span> MW</li>
    </ul>
  </div>

  <script>
    window.addEventListener("message", (event) => {
      const data = event.data;

      if (data.type === "warpStart") {
        const { warpLevel, planet } = data;

        // Einstein Tensor Panel – simulate gtt/rho based on warp level
        const gtt = (1 - warpLevel * 0.003).toFixed(6);
        const rhoMin = (6.827e-17 * warpLevel).toExponential(3);
        const rhoMax = (8.825e-9 * warpLevel).toExponential(3);
        document.getElementById("gtt").innerText = gtt;
        document.getElementById("rho").innerText = `${rhoMin} / ${rhoMax}`;
        document.getElementById("horizon").innerText = (warpLevel >= 8) ? "Event risk ⚠️" : "None";

        // Gravity Vectoring Panel – update based on warp level
        const reactor = 5000 + warpLevel * 50;
        const front = 30 + warpLevel;
        const rear = 70 - warpLevel;
        const coils = 2000 + warpLevel * 5;
        const vanes = 1700 + warpLevel * 5;
        const containment = 1100 + warpLevel * 5;

        document.getElementById("reactor").innerText = reactor;
        document.getElementById("front").innerText = `${front}%`;
        document.getElementById("rear").innerText = `${rear}%`;
        document.getElementById("lr").innerText = "0%";
        document.getElementById("ud").innerText = "0%";
        document.getElementById("coils").innerText = coils;
        document.getElementById("vanes").innerText = vanes;
        document.getElementById("containment").innerText = containment;
      }

      if (data.type === "reset") {
        // Reset values
        document.getElementById("gtt").innerText = "1.000000";
        document.getElementById("rho").innerText = "6.827e-17 / 8.825e-9";
        document.getElementById("horizon").innerText = "None";
        document.getElementById("reactor").innerText = "5000";
        document.getElementById("front").innerText = "35%";
        document.getElementById("rear").innerText = "65%";
        document.getElementById("lr").innerText = "0%";
        document.getElementById("ud").innerText = "0%";
        document.getElementById("coils").innerText = "2025";
        document.getElementById("vanes").innerText = "1750";
        document.getElementById("containment").innerText = "1100";
      }
    });
  </script>
</body>
</html>
