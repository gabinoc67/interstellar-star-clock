<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>üåç Earth Clock + Solar Orbit Vector</title>
  <style>
    body {
      background-color: black;
      color: #00ffcc;
      font-family: 'Courier New', monospace;
      text-align: center;
      padding-top: 30px;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 0;
    }

    .clock-box {
      font-size: 1.5em;
      margin: 20px 0;
    }

    canvas {
      background-color: #111;
      margin-top: 20px;
      border: 2px solid #00ffcc;
    }

    #angle-label {
      font-size: 1.2em;
      margin-top: 10px;
      color: #ffcc00;
    }
  </style>
</head>
<body>
  <h1>This is new chat start over</h1>
  <div class="clock-box">
    üïí Earth CST Time: <span id="earthClock"></span>
  </div>

  <canvas id="orbitCanvas" width="400" height="400"></canvas>
  <div id="angle-label"></div>

  <script>
    // === Earth Clock ===
    function updateClock() {
      const now = new Date();
      const options = { timeZone: "America/Chicago", hour12: true, hour: '2-digit', minute: '2-digit', second: '2-digit' };
      const time = now.toLocaleTimeString('en-US', options);
      document.getElementById("earthClock").textContent = time;
    }
    setInterval(updateClock, 1000);
    updateClock();

    // === Orbit Vector + Angle ===
    const canvas = document.getElementById("orbitCanvas");
    const ctx = canvas.getContext("2d");
    const centerX = canvas.width / 2;
    const centerY = canvas.height / 2;
    const radius = 120;

    function getEarthAngle(date = new Date()) {
      const startOfYear = new Date(date.getFullYear(), 0, 1);
      const diffDays = (date - startOfYear) / (1000 * 60 * 60 * 24);
      const angle = (diffDays / 365.25) * 360;
      return angle % 360;
    }

    function drawOrbit() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Sun
      ctx.beginPath();
      ctx.arc(centerX, centerY, 10, 0, 2 * Math.PI);
      ctx.fillStyle = "yellow";
      ctx.fill();

      // Orbit Circle
      ctx.beginPath();
      ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
      ctx.strokeStyle = "#00ffcc";
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Earth Vector
      const angle = getEarthAngle();
      const rad = (angle - 90) * Math.PI / 180;  // Rotate to start from top
      const x = centerX + radius * Math.cos(rad);
      const y = centerY + radius * Math.sin(rad);

      // Vector line
      ctx.beginPath();
      ctx.moveTo(centerX, centerY);
      ctx.lineTo(x, y);
      ctx.strokeStyle = "#ff0000";
      ctx.lineWidth = 2;
      ctx.stroke();

      // Earth dot
      ctx.beginPath();
      ctx.arc(x, y, 6, 0, 2 * Math.PI);
      ctx.fillStyle = "#00f";
      ctx.fill();

      // Label
      document.getElementById("angle-label").innerHTML = 
        `üåç Earth‚Äôs Orbital Angle: <strong>${angle.toFixed(2)}¬∞</strong> (around the Sun)`;
    }

    setInterval(drawOrbit, 1000);
    drawOrbit();
  </script>
</body>
</html>
