<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Warp Drive Simulator with Clock Sync</title>
  <style>
    body { margin:0; font-family:Arial,sans-serif; background:#000; color:#fff;
      display:flex; flex-direction:column; align-items:center; }
    #directionSpeedDisplay { display:flex; align-items:center; gap:20px;
      font-size:18px; margin:16px; color:#00ffff; }
    #warpLoadBar { width:100px; height:10px; border:1px solid #ccc; background:#222; }
    #warpLoadFill { height:100%; width:0%; background:green; transition:width .3s, background .3s; }
    #vectorStatus { font-size:14px; margin-bottom:10px; }
    #shipViews { display:flex; justify-content:center; gap:40px; margin-top:10px; }
    .viewBoxContainer { display:flex; flex-direction:column; align-items:center; }
    .label { margin-bottom:6px; font-size:15px; color:#00ffff; }
    .viewBox { background:url('https://upload.wikimedia.org/wikipedia/commons/4/47/StarfieldSimulation.jpg') center/cover no-repeat;
      border:2px solid #00ffff; width:400px; height:300px; position:relative; overflow:hidden; }
    .planetImage { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%) scale(1);
      max-width:100%; max-height:100%; transition:transform .2s ease, opacity .2s ease; }
    #controls { margin-top:20px; display:flex; flex-direction:column; align-items:center; gap:12px; }
    .control-row { display:flex; gap:10px; flex-wrap:wrap; justify-content:center; }
    select, button { padding:8px 16px; font-size:13px; border-radius:4px; border:none; }
    button { background:#00ffff; color:black; cursor:pointer; }
    button:hover { background:#00cccc; }
    #emergencyAbort { background:red; color:white; display:none; }
    table { margin-top:20px; border-collapse:collapse; width:90%; max-width:820px; color:#fff; }
    th, td { border:1px solid #444; padding:5px 7px; text-align:center; font-size:13px; }
    th { background:#222; color:#00ffff; }
  </style>
</head>
<body>

  <div id="directionSpeedDisplay">
    üöÄ Speed: <span id="speedDisplay">0.00c</span> | Vector: <span id="vectorDisplay">0¬∞</span>
    <div id="warpLoadBar"><div id="warpLoadFill"></div></div>
  </div>
  <div id="vectorStatus">üü¢ Vector Status: <span id="vectorSafety">Safe</span></div>

  <div id="shipViews">
    <div class="viewBoxContainer">
      <div class="label">üîô Rear View ‚Äì Earth</div>
      <div class="viewBox" id="rearView">
        <img class="planetImage" id="rearEarth"
          src="https://raw.githubusercontent.com/gabinoc67/interstellar-star-clock/main/earth.png" />
      </div>
    </div>
    <div class="viewBoxContainer">
      <div class="label" id="frontLabel">üî≠ Front View ‚Äì Destination: Mercury</div>
      <div class="viewBox" id="frontView">
        <img class="planetImage" id="frontPlanet"
          src="https://raw.githubusercontent.com/gabinoc67/interstellar-star-clock/main/mercury2.png" />
      </div>
    </div>
  </div>

  <div id="controls">
    <div class="control-row">
      <label>ü™ê Planet:
        <select id="planetSelect">
          <option value="mercury" selected>Mercury</option>
          <option value="venus">Venus</option>
          <option value="mars">Mars</option>
          <option value="jupiter">Jupiter</option>
          <option value="saturn">Saturn</option>
          <option value="uranus">Uranus</option>
          <option value="neptune">Neptune</option>
          <option value="pluto">Pluto</option>
        </select>
      </label>
      <label>‚ö° Warp:
        <select id="warpLevelSelect">
          ${[...Array(10)].map((_, i) => `<option value="${i+1}" ${i===0?"selected":""}>Warp ${i+1}</option>`).join("")}
        </select>
      </label>
      <button onclick="startWarp()">üöÄ Engage</button>
      <button onclick="resetWarp()">üîÑ Reset</button>
      <button id="emergencyAbort" onclick="abortWarp()">üõë Abort</button>
    </div>
  </div>

  <table>
    <tr><th>Clock</th><th>Status</th><th>Purpose</th><th>CST</th><th>Local</th><th>Œî (ms)</th>
        <th>Arrival CST</th><th>Arrival IST</th></tr>
    ${[1,2,3,4,5].map(i=>`
    <tr>
      <td>C${i} ‚Ä¢ ${["Biometric","Warp Edge","NavCore","CST Earth","DriftEye"][i-1]}</td>
      <td>‚úÖ Synced</td>
      <td>${["Crew/Local","Phase Monitor","Navigation","Master Anchor","Diagnostics"][i-1]}</td>
      <td id="c${i}cst"></td>
      <td id="c${i}loc"></td>
      <td id="c${i}delta"></td>
      <td id="c${i}acst">03:47:53.399</td>
      <td id="c${i}aist">45,500,000,000 y</td>
    </tr>`).join("")}
  </table>

  <script>
    const frontPlanet = document.getElementById("frontPlanet");
    const rearEarth = document.getElementById("rearEarth");
    const planetSelect = document.getElementById("planetSelect");
    const warpSelect = document.getElementById("warpLevelSelect");
    const speedDisplay = document.getElementById("speedDisplay");
    const vectorDisplay = document.getElementById("vectorDisplay");
    const vectorSafety = document.getElementById("vectorSafety");
    const warpLoadFill = document.getElementById("warpLoadFill");
    const frontLabel = document.getElementById("frontLabel");
    const emergencyAbort = document.getElementById("emergencyAbort");
    let interval;

    function getPlanetImage(planet) {
      return `https://raw.githubusercontent.com/gabinoc67/interstellar-star-clock/main/${planet}2.png`;
    }

    function updateClocks() {
      const now = new Date();
      for (let i = 1; i <= 5; i++) {
        const base = now.getTime();
        const drift = (Math.random() * 6 - 3).toFixed(2);
        document.getElementById(`c${i}cst`).textContent = now.toLocaleTimeString();
        document.getElementById(`c${i}loc`).textContent = new Date(base + drift).toLocaleTimeString();
        document.getElementById(`c${i}delta`).textContent = drift;
      }
    }

    function startWarp() {
      clearInterval(interval);
      let warp = parseInt(warpSelect.value);
      let vector = 80 + (warp - 1) * 10;
      let duration = 5000;
      let elapsed = 0;

      let scaleRear = 1;
      let scaleFront = 0.1;

      const planet = planetSelect.value;
      frontPlanet.src = getPlanetImage(planet);
      frontLabel.textContent = `üî≠ Front View ‚Äì Destination: ${planet.charAt(0).toUpperCase()+planet.slice(1)}`;
      vectorDisplay.textContent = vector + "¬∞";
      warpLoadFill.style.width = (warp * 10) + "%";
      warpLoadFill.style.background = (vector < 85 || vector > 175) ? "red" : "green";
      vectorSafety.textContent = (vector < 85 || vector > 175) ? "Unsafe" : "Safe";
      emergencyAbort.style.display = (vector < 85 || vector > 175) ? "inline-block" : "none";

      interval = setInterval(() => {
        elapsed += 100;
        let progress = elapsed / duration;
        if (progress >= 1) {
          clearInterval(interval);
          return;
        }
        speedDisplay.textContent = ((1 - progress) * 0.59).toFixed(2) + "c";
        rearEarth.style.transform = `translate(-50%,-50%) scale(${1 - progress})`;
        frontPlanet.style.transform = `translate(-50%,-50%) scale(${0.1 + progress})`;
        updateClocks();
      }, 100);
    }

    function resetWarp() {
      clearInterval(interval);
      warpSelect.value = "1";
      planetSelect.value = "mercury";
      frontPlanet.src = getPlanetImage("mercury");
      frontPlanet.style.transform = "translate(-50%,-50%) scale(0.1)";
      rearEarth.style.transform = "translate(-50%,-50%) scale(1)";
      frontLabel.textContent = "üî≠ Front View ‚Äì Destination: Mercury";
      speedDisplay.textContent = "0.00c";
      vectorDisplay.textContent = "0¬∞";
      warpLoadFill.style.width = "0%";
      emergencyAbort.style.display = "none";
      vectorSafety.textContent = "Safe";
      updateClocks();
    }

    function abortWarp() {
      clearInterval(interval);
      alert("Emergency Abort Activated ‚Äì Warp Drive Stopped!");
    }

    setInterval(updateClocks, 1000);
    updateClocks();
  </script>

</body>
</html>
